(window.webpackJsonp=window.webpackJsonp||[]).push([[173],{1002:function(e,t,a){"use strict";t.a=function(e){return e?e.replace(/[^a-zA-Z0-9 -]/g,"").trim().replace(/\s+/g,"-").replace(/-{2,}/g,"-").replace(/^-/g,"").replace(/-+$/g,"").toLowerCase():""}},1231:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(15),r=function(e){var t=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.b.query(e,Object.assign(a,{id:t}))}("/websites/start-your-site/setup/"),a=JSON.stringify(e);return n.b.post(t,a).then((function(t){return t.ok?t.json():Promise.reject(new Error("Could not setup site. Error ".concat(t.status," : ").concat(t.statusText,"\n         audienceId: ").concat(e.audienceId,"\n         siteName: ").concat(e.siteName,"\n         domain: ").concat(e.domain,"\n         hasMultipleAudiences: ").concat(e.hasMultipleAudiences,"\n        ")))}))}},3429:function(e,t,a){e.exports={previewWindow:"previewWindow-1uQBq",urlContainer:"urlContainer-1yj_i",url:"url-ayN1X",previewContent:"previewContent-2E-Nu",previewContentSecondRow:"previewContentSecondRow-3tGk_",mockContent:"mockContent-3pP03",mockContentSmall:"mockContentSmall-3N3_Q",siteName:"siteName-Rwg1W"}},3431:function(e,t,a){e.exports={animatedStep:"animatedStep--IWQC",animatedStepAppear:"animatedStepAppear-1nbg2",animatedStepAppearActive:"animatedStepAppearActive-2FVpb",animatedStepEnter:"animatedStepEnter-3wf_F",animatedStepEnterActive:"animatedStepEnterActive-2J2up",animatedStepAppearDone:"animatedStepAppearDone-mSGis",animatedStepEnterDone:"animatedStepEnterDone-vkqGf",animatedStepExit:"animatedStepExit-sUZ63",animatedStepExitActive:"animatedStepExitActive-1EmGg",animatedStepExitDone:"animatedStepExitDone-1rHtn"}},3433:function(e,t,a){e.exports={root:"root-1y5_e"}},3435:function(e,t,a){e.exports={page:"page-1-r3o",wrapper:"wrapper-2Y6hq",column:"column-YZVA4",primaryAppear:"primaryAppear-nguUg",primaryEnter:"primaryEnter-IZmTz",primaryAppearActive:"primaryAppearActive-1cljL",primaryEnterActive:"primaryEnterActive-366yR",primaryAppearDone:"primaryAppearDone-1NRp6",primaryEnterDone:"primaryEnterDone-1heBh"}},5285:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(8),r=a.n(n),i=a(16),c=a(7),o=a(0),l=a.n(o),m=(a(9),a(27)),u=a(21),s=a(18),p=a(1231),d=a(1002),E=a(4),b=a(3429),v=a.n(b),y=function(e){var t=e.domain,a=Object(E.vc)().inventory.name;return l.a.createElement("div",{className:v.a.previewWindow},l.a.createElement("div",{className:v.a.urlContainer},l.a.createElement("div",{className:v.a.url},t?"".concat(t):"".concat(Object(d.a)(a),".mailchimpsites.com"))),l.a.createElement("div",{className:v.a.siteName},a),l.a.createElement("div",{className:v.a.previewContent},l.a.createElement("div",{className:v.a.mockContent}),l.a.createElement("div",{className:v.a.previewContentSecondRow},l.a.createElement("div",{className:v.a.mockContentSmall}),l.a.createElement("div",{className:v.a.mockContentSmall}))))},f=(a(1236),a(3431),function(e){var t=e.buttonText,a=e.canConnectDomain,n=(e.onIn,e.lastPurchasedCustomDomain),r=e.isLoading;return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.Jb,{gap:6},l.a.createElement(E.M,{level:2},"Is this the name you'd like to use for your website?"),l.a.createElement(E.ac,null,"This will be the name of your site and weâ€™ll use it to create your website URL, too."),l.a.createElement(E.J,{component:E.Q,name:"name",label:"Name",hideLabel:!0}),l.a.createElement(E.Jb,{gap:7},n&&!a&&l.a.createElement(E.D,{inline:!0,title:"Use your custom domain",variant:"default"},"To use your custom domain,"," ",l.a.createElement(E.ac,{as:"span",appearance:"small-bold"},n),", upgrade to the Websites & Commerce Core plan in your site settings."),l.a.createElement(E.Kb,{type:"primary",isLoading:r},t))))}),g=function(e){var t=e.audiences,a=e.buttonText,n=(e.onIn,e.isLoading);return l.a.createElement(l.a.Fragment,null,l.a.createElement(E.Jb,{gap:7},l.a.createElement(E.Jb,null,l.a.createElement(E.M,{level:2},"Great, now choose an audience for your website"),l.a.createElement(E.ac,null,"When visitors sign up for your audience, you can connect with them through emails, ads, social and more.")),l.a.createElement(E.Jb,null,l.a.createElement(E.J,{name:"audience",label:"Audience",component:function(e){var a=e.onChange,n=e.value;return l.a.createElement(E.Cb,{placeholder:"Select an audience",label:"Audience",onChange:a,value:n},t.map((function(e){return l.a.createElement(E.ib,{"aria-label":e.name,value:e.id,key:e.id},e.name)})))}}),l.a.createElement(E.Kb,{type:"primary",isLoading:n},a))))},h=a(3433),w=a.n(h),S=function(e){var t=e.onCancel;return l.a.createElement(E.mb,{gutterTop:!1},l.a.createElement("div",{className:w.a.root},l.a.createElement(E.r,{justifyContent:"center"},l.a.createElement(E.Jb,{gap:6,style:{flexGrow:2,alignSelf:"center"}},l.a.createElement(E.M,{level:2,appearance:"heading-1"},"Are you sure you want to exit?"),l.a.createElement(E.r,null,l.a.createElement(u.b,{type:"primary",as:E.k,to:"/website/dashboard/"},"Exit"),l.a.createElement(E.k,{type:"secondary",onClick:t},"Stick Around")),l.a.createElement(E.ac,{appearance:"small"},"All your changes will be lost when you exit.")))))},C=a(3435),A=a.n(C),N=function(e){var t=e.setupData,a=Object(u.n)(),n=t.audiences,b=t.siteName,v=void 0===b?"":b,h=t.canConnectDomain,w=function(e){var t=["Name"];return e.length>1&&t.push("Audience"),t}(n),C=Object(o.useState)(w[0]),N=Object(c.a)(C,2),k=N[0],x=N[1],j=Object(o.useState)(!1),O=Object(c.a)(j,2),D=O[0],J=O[1],_=k===w[w.length-1]||1===w.length?"Edit my site":"Next",L=Object(o.useState)(!1),I=Object(c.a)(L,2),T=I[0],W=I[1],M=function(e){var t=Object.keys(e)[0],a="audience"===t?"click":"input_text",n="audience"===t?"audience_dropdown":"edit_domain";Object(s.a)("website_builder",a,n)},R=function(){var e=Object(i.a)(r.a.mark((function e(i){var c,o,l,m,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=i.audience,o=i.name,l=Object(d.a)(o),m={audienceId:c,siteName:o,domain:t.domain?t.domain:"".concat(l,".mailchimpsites.com"),hasMultipleAudiences:n.length>1},e.prev=3,W(!0),e.next=7,Object(p.a)(m);case 7:u=e.sent,a(u.editorUrl),Object(s.a)("website_builder","click",_),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),W(!1);case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(E.kc,{className:A.a.page},l.a.createElement(u.c,{title:"Website Setup"},l.a.createElement(E.kb,null,l.a.createElement(E.lc,{onFinish:R,initialStep:"name",onStepChange:function(){Object(s.a)("website_builder","click","next"),x((function(e){var t;return t=1-w.indexOf(e),w[t]}))},initialInventory:{name:v,audience:n[0].id}},D?l.a.createElement(S,{onCancel:function(){return J(!1)}}):l.a.createElement(l.a.Fragment,null,l.a.createElement(E.nb,{title:"Website Setup",breadcrumbs:l.a.createElement(E.mc,null),actions:l.a.createElement(E.ob,null,l.a.createElement(E.pb,{icon:l.a.createElement(m.K,null),onClick:function(){return J(!0)}},"Exit")),focusMode:!0}),l.a.createElement(E.mb,null,l.a.createElement(E.Mb,{gap:9},l.a.createElement(E.pc,null,l.a.createElement(E.oc,{displayName:"Site Name",name:"name",component:function(){return l.a.createElement(E.nc,{validation:{name:function(e){return e?/(?=.*[a-zA-Z0-9])/.test(e)?null:"Site name must contain at least one letter and/or number.":"Site must have a name."}}},l.a.createElement(f,{buttonText:_,canConnectDomain:h,lastPurchasedCustomDomain:t.lastPurchasedCustomDomain,isLoading:T}))}}),n.length>1&&l.a.createElement(E.oc,{displayName:"Audience",name:"audience",component:function(){return l.a.createElement(E.nc,{onChange:M},l.a.createElement(g,{audiences:n,buttonText:_,isLoading:T}))}})),l.a.createElement(y,{currentStep:k,domain:t.domain}))))))))}}}]);
//# sourceMappingURL=route-start-your-site.8db6984270899d6c2d16.js.map