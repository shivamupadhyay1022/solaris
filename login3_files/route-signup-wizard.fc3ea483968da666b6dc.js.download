(window.webpackJsonp=window.webpackJsonp||[]).push([[170],{1707:function(e,t,n){"use strict";var a=n(3),r=n(14),c=n(7),o=n(0),i=n.n(o),s=(n(9),n(10)),l=n.n(s),u=n(451),m=n(4),p=n(1763),b=n.n(p),d=n(1765),f=n.n(d),O=n(1766),h=n.n(O),g=n(1767),v=n.n(g);function j(e,t){return t.isMotionReduced?v.a:"intro"===e?f.a:"hover"===e?h.a:v.a}var E=function(e){var t=e.label,n=void 0===t?"Based on best practices":t,c=e.className,o=Object(r.a)(e,["label","className"]);return i.a.createElement("span",Object(a.a)({className:l()(b.a.container,b.a.pill,c)},o),n)},y=function(e){var t=e.children,n=e.toggletipText,a=e.direction;return n?i.a.createElement(m.ic,{direction:a,label:n,unsafe_isHoverable:!0},t):i.a.createElement(i.a.Fragment,null,t)},w=function(e){var t=e.className,n=e.condensed,r=void 0!==n&&n,s=e.label,p=void 0===s?"Based on your data":s,d=e.toggletipText,f=e.direction,O=void 0===f?"right":f,h=Object(u.a)(),g=function(){var e=Object(o.useRef)(),t=Object(o.useState)(!1),n=Object(c.a)(t,2),a=n[0],r=n[1];return Object(o.useEffect)((function(){if(e.current&&!a){var t=new IntersectionObserver((function(e){e[0].isIntersecting&&r(!0)}),{threshold:0});return t.observe(e.current),function(){t.disconnect()}}}),[a]),{ref:e,hasIntersected:a}}(),v=g.ref,E=g.hasIntersected,w=Object(o.useState)(!1),S=Object(c.a)(w,2),k=S[0],N=S[1],x=Object(o.useState)(!1),P=Object(c.a)(x,2),C=P[0],_=P[1],I=function(){k||N(!0)},B=k&&E,T=d?"button":"span";return i.a.createElement("span",{className:t,ref:v},i.a.createElement(m.kc,{as:"span"},i.a.createElement(y,{toggletipText:d,direction:O},i.a.createElement(T,Object(a.a)({className:l()(b.a.container,b.a.tierTwo,d&&b.a.clickable,r&&b.a.condensed,!B&&b.a.hidden),onMouseEnter:function(){_(!0)},onMouseLeave:function(){_(!1)}},d&&{type:"button"}),i.a.createElement("span",{className:l()(b.a.circle,B&&b.a.animate)}),i.a.createElement("span",{onLoad:I,className:l()(b.a.image,b.a.tierTwo,!h&&b.a.intro,B&&b.a.animate,C&&b.a.hidden),style:{backgroundImage:"url(".concat(j("intro",{isMotionReduced:h}),")")}}),i.a.createElement("img",{onLoad:I,className:l()(b.a.image,b.a.tierTwo,!C&&!h&&b.a.hidden),src:j("hover",{isMotionReduced:h}),alt:""}),i.a.createElement("span",{className:l()(b.a.label,B&&b.a.animate)},i.a.createElement("span",{className:l()(b.a.text,B&&b.a.animate)},p)),i.a.createElement("span",{className:l()(b.a.circle,B&&b.a.animate)})))))},S=function(e){var t=e.className,n=e.finishAnimation,a=e.onComplete,r=e.segment,s=void 0===r?"intro":r,u=Object(o.useState)(+new Date),m=Object(c.a)(u,2),p=m[0],d=m[1],f=Object(o.useState)(s),O=Object(c.a)(f,2),h=O[0],g=O[1],v=Object(o.useState)(null),j=Object(c.a)(v,2),E=j[0],y=j[1],w=Object(o.useState)(null),S=Object(c.a)(w,2),k=S[0],N=S[1];Object(o.useEffect)((function(){var e,t="/images/smart-mark/combined-smartmark-sprite.png",n=new Image;return n.src=t,n.onload=function(){y(t),e=setTimeout((function(){N(!0)}),1e3)},function(){clearTimeout(e)}}),[]);var x=Object(o.useCallback)((function(e){e.animationName.toUpperCase().includes(h.toUpperCase())&&("intro"===h?g("loop"):"loop"===h?n?g("outro"):d(+new Date):"outro"===h&&(g(""),a()))}),[h,g,n,a]);return i.a.createElement("div",null,i.a.createElement("div",{key:p,onAnimationEnd:x,style:{backgroundImage:"url(".concat(E||"",")")},className:l()(t,b.a.tierThree,k&&"intro"===h&&b.a.intro,"loop"===h&&b.a.loop,"outro"===h&&b.a.outro)}))};t.a=function(e){var t=e.tier,n=Object(r.a)(e,["tier"]);switch(t){case 1:return i.a.createElement(E,n);case 2:return i.a.createElement(w,n);case 3:return i.a.createElement(S,n);default:return null}}},1763:function(e,t,n){e.exports={container:"container-3Ddep",tierTwo:"tierTwo-2NDDD",pill:"pill-1ohxD",image:"image-eHLbF",intro:"intro-vKtnE",tierThree:"tierThree-1x5Hx",t3IntroV:"t3IntroV-3CZT-",t3IntroH:"t3IntroH-2e4hY",loop:"loop-KO2du",t3LoopV:"t3LoopV-lMtP7",t3LoopH:"t3LoopH-7Y5AR",outro:"outro-HIcXc",t3OutroV:"t3OutroV-1JPNz",t3OutroH:"t3OutroH-2JcGC",label:"label-3lkw0",circle:"circle-22psN",condensed:"condensed-20cCC",text:"text-1AWaQ",animate:"animate-2Lc7H",t2Intro:"t2Intro-3Fplp",smartMarkLabelReveal:"smartMarkLabelReveal-GaUIz",smartMarkLeftCircleReveal:"smartMarkLeftCircleReveal-WF1VY",smartMarkRightCircleReveal:"smartMarkRightCircleReveal-2jjKF",smartMarkTextReveal:"smartMarkTextReveal-2_fHA",clickable:"clickable-UqZZf",hidden:"hidden-3qIq_",displayNone:"displayNone-2c8ux",t3Start:"t3Start-15rgQ"}},1765:function(e,t,n){e.exports=n.p+"d0138fd48813200686de111abf67157c.png"},1766:function(e,t,n){e.exports=n.p+"bed93525761cd32e4716846dd24ab390.gif"},1767:function(e,t,n){e.exports=n.p+"5dc87358801c60300dddec48ab806fd3.gif"},2767:function(e,t,n){e.exports={inputContainer:"inputContainer-3O9jy",contactInput:"contactInput-ll7OJ",brandHeading:"brandHeading-1IdYo",brandButtons:"brandButtons-3OAbN",urlInput:"urlInput-3N1NC",addressInputs:"addressInputs-3LHeX"}},4596:function(e,t,n){e.exports={branding:"branding-1psxT",txBranding:"txBranding-quEYu"}},4598:function(e,t,n){e.exports={root:"root-2brDM",fill:"fill-CM1YD"}},4600:function(e,t,n){e.exports={root:"root-1USPo",checkout:"checkout-cGlzX",uiRefresh:"uiRefresh-3hJJe",celebration:"celebration-3zkdx",page:"page-ldZSu",pageContent:"pageContent-2OJMn",stepContainer:"stepContainer-3L5FA",tx:"tx-1t4CB",rightPane:"rightPane-Ldcaq",rightPaneCelebration:"rightPaneCelebration-3Uj-o",container:"container-8xFh5",headingRefresh:"headingRefresh-2bCZx",progressBar:"progressBar-2pA3x",progressBarNoBackButton:"progressBarNoBackButton-Rjo9i",progressBarPaywall:"progressBarPaywall-11BHT",withoutBreadcrumbs:"withoutBreadcrumbs-3g__p",wizardBack:"wizardBack-1eoB-",content:"content--gMod",contentWide:"contentWide-2GHoA",uiRefreshContent:"uiRefreshContent-1ybzh"}},4602:function(e,t,n){e.exports={footer:"footer-2kzEj",trademarkWidth:"trademarkWidth-1tf48",trademarkPaywall:"trademarkPaywall-aAMxG",trademarkCelebration:"trademarkCelebration-2Ka47",trademarkNotice:"trademarkNotice-2OlmH"}},4604:function(e,t,n){e.exports={root:"root-2uPik"}},4607:function(e,t,n){e.exports={desktop:"desktop-2KiBh",phone:"phone-f59ic"}},4609:function(e,t,n){e.exports={loading:"loading-1LBvh"}},4611:function(e,t,n){e.exports={subText:"subText-1aKas",questionStep:"questionStep-17AlJ",hideLegend:"hideLegend-3TQUN"}},4613:function(e,t,n){e.exports={celebrationCluster:"celebrationCluster-1_55B",celebrationText:"celebrationText-oKTn3",celebrationImg:"celebrationImg-3aSyB",celebrationCTA:"celebrationCTA-3QG2M",celebrationMobile:"celebrationMobile-v-eB7"}},4615:function(e,t,n){e.exports=n.p+"88952212da04ee57cbd057f99078fd4c.png"},4616:function(e,t,n){e.exports=n.p+"0b36b00f697c2efd11c7a16ee7b9192e.png"},4617:function(e,t,n){e.exports={root:"root-1-hKi"}},5242:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),o=n(9),i=n.n(o),s=n(7),l=n(26),u=n(132),m=n.n(u),p=n(18),b=n(12),d=n(21),f=n(4),O=n(10),h=n.n(O),g={PAYWALL:"paywall",CONTACT:"contact",ADDRESS:"address",AUDIENCE:"audience",BRAND:"brand",SEGMENTS:"segments",LINK:"link",CELEBRATION:"celebration",FINISH:"finish"},v="objective",j="subscribers",E="Do you sell products or services online?",y="How do you currently sell online?",w="Do you intend to sell products or services online in the future?",S="Welcome",k="marketing onboarding",N='By checking "Import my brand," you represent and warrant that you own or have permission to use all of the content from this website.',x=(i.a.exact({question_id:i.a.number,name:i.a.string.isRequired,text:i.a.string.isRequired,sub_text:i.a.string,display_order:i.a.number,type:i.a.string.isRequired,is_required:i.a.bool,is_active:i.a.bool,answers:i.a.arrayOf(i.a.exact({answer_id:i.a.number,question_id:i.a.number,next_question_id:i.a.number,text:i.a.string,sub_text:i.a.string,display_order:i.a.number,image:i.a.string,is_active:i.a.bool,disable:i.a.any})).isRequired}).isRequired,n(568)),P=n(580),C=n(126),_=n(4596),I=n.n(_);var B=function(){return Object(C.a)().isPhone?c.a.createElement("img",{src:"/images/brand_assets/logos/mc-freddie-dark.svg",className:I.a.branding,width:"38",height:"38",alt:"Mailchimp logo"}):c.a.createElement("img",{src:"/images/brand_assets/logos/mc-tx-horiz.svg",className:h()(I.a.branding,I.a.txBranding),alt:"Mailchimp transactional logo"})},T=n(4598),A=n.n(T),D=function(e){var t=e.className,n=e.progressBarIndex,a=e.setProgressBarIndex,o=Object(f.vc)(),i=o.currentStep,s=o.stepNames,l=Object(r.useContext)(x.a).isPlanSelectorOnFinalStep;return Object(r.useEffect)((function(){if(s){var e=s.indexOf(i)/(s.length-1);s.indexOf(g.PAYWALL)<0&&(e=(s.indexOf(i)+1)/(s.length+1)),i!==g.FINISH||l&&s.includes(g.PAYWALL)||(e=(s.indexOf(i)+1)/(s.length-1)),a(100*e)}}),[i,l,a,s]),c.a.createElement("div",{className:h()(A.a.root,t)},c.a.createElement("div",{className:A.a.fill,style:{width:"".concat(n,"%")}}))},L=n(4600),R=n.n(L),q=n(45),M=n(4602),J=n.n(M);function z(e){var t,n=e.currentStep,r=Object(q.a)(),o="paywall"===n,i="celebration"===n,s=h()(J.a.trademarkWidth,(t={},Object(a.a)(t,J.a.trademarkPaywall,o),Object(a.a)(t,J.a.trademarkCelebration,i),Object(a.a)(t,J.a.trademarkNotice,!o&&!i),t));return c.a.createElement("div",{role:"contentinfo","aria-labelledby":r,className:h()(J.a.footer),"data-analytics-tag":"signup-wizard-sticky-footer"},c.a.createElement("span",{id:r,className:"wink-visually-hidden","aria-hidden":"true"},"Copyright, terms, and conditions"),c.a.createElement(f.ac,{appearance:"small-secondary",className:s},"Â©2001â€“",(new Date).getFullYear()," All Rights Reserved. MailchimpÂ® is a registered trademark of The Rocket Science Group, LLC.",c.a.createElement("br",null),c.a.createElement("a",{href:"https://www.intuit.com/privacy/statement/",target:"_blank",rel:"noopener noreferrer"},"Privacy")," ","and"," ",c.a.createElement("a",{href:"https://mailchimp.com/legal/terms",target:"_blank",rel:"noopener noreferrer"},"Terms"),"."))}var F=function(e){var t,n,o,i=e.children,s=e.onQuestionButtonClick,l=e.progressBarIndex,u=e.setProgressBarIndex,m=e.showCheckoutUIRefreshExperiment,p=Object(f.uc)().isMandrill,d=Object(f.tc)(),O=Object(f.vc)(),v=O.currentStep,j=O.stepNames,E=O.inventory,y=Object(r.useContext)(x.a),w=y.questions,S=y.isPlanSelectorOnFinalStep,k=v===g.PAYWALL,N=v===g.CELEBRATION,C=!N&&v!==(null==j?void 0:j[0]),_=h()(R.a.rightPane,(t={},Object(a.a)(t,R.a.tx,p),Object(a.a)(t,R.a.rightPaneCelebration,N),t)),I=k&&Object(b.c)("cdbfde180ecae61a45a480a641b1a56c")&&S;return c.a.createElement("div",{className:h()(R.a.root,(n={},Object(a.a)(n,R.a.checkout,k),Object(a.a)(n,R.a.celebration,N),Object(a.a)(n,R.a.uiRefresh,m),n)),"data-analytics-tag":"signup-wizard-step-".concat(v)},p?c.a.createElement(c.a.Fragment,null,c.a.createElement(f.kb,{className:h()(R.a.page)},c.a.createElement(B,null),c.a.createElement("div",{className:R.a.pageContent},c.a.createElement(f.mb,null,c.a.createElement("div",{className:h()(Object(a.a)({},R.a.stepContainer,!k))},i))),c.a.createElement(z,{currentStep:v})),c.a.createElement("div",{className:_})):c.a.createElement(c.a.Fragment,null,c.a.createElement(f.Jb,{className:R.a.container,gap:0},!N&&c.a.createElement(c.a.Fragment,null,c.a.createElement(f.M,{className:R.a.headingRefresh,"data-analytics-tag":"signup-wizard-heading",level:1,appearance:"heading-3"},"Account Set Up"),c.a.createElement(D,{progressBarIndex:l,setProgressBarIndex:u,className:k?h()(R.a.progressBarPaywall,Object(a.a)({},R.a.withoutBreadcrumbs,S)):h()(R.a.progressBar,Object(a.a)({},R.a.progressBarNoBackButton,!C))})),C&&!I&&c.a.createElement("div",{className:R.a.wizardBack},c.a.createElement(P.a,{handleChange:function(){var e=j[j.indexOf(v)-1];d.navigate(e),s(E,d.navigate,w,v,"back")}})),c.a.createElement("div",{className:h()((o={},Object(a.a)(o,R.a.contentWide,k),Object(a.a)(o,R.a.pageContent,k),Object(a.a)(o,R.a.content,!k),Object(a.a)(o,R.a.uiRefreshContent,k&&m),o))},i),c.a.createElement(z,{currentStep:v})),c.a.createElement("div",{className:_})))},U=n(3),H=n(33),Y=n(15);var Q=n(112),W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(Q.a)({channelName:"react-signup-wizard",message:e,data:t})},G=function(e){var t=/(http(s)?:\/\/)/i,n=e;return null!==t.exec(e)&&(7===t.exec(e)[0].length?n=e.replace(t,"http://"):8===t.exec(e)[0].length&&(n=e.replace(t,"https://"))),/^(http(?:s)?:\/\/)?([\w-]+\.)*([a-zA-Z\d-]+)(\.[a-zA-Z\d]+)([:#?/][^\n\r\s]*)?$/gm.test(n)?null:"Enter a valid URL"},K=function(){var e=document.querySelector("main");e&&e.scrollTo?e.scrollTo({top:0,behavior:"smooth"}):e&&e.scrollIntoView?e.scrollIntoView({behavior:"smooth",block:"start"}):e&&e.scrollTop?e.scrollTop=0:window.scrollTo&&window.scrollTo({top:0,left:0,behavior:"smooth"})},V=n(32);function Z(e){return $({stepName:e})}function $(e){return["countries","exitPath","isAgency","isMandrill"].forEach((function(t){delete e[t]})),Y.b.post("/signup/wizard/set-form-data",Y.b.convertJsonToFormData(e)).then((function(t){return t.json().then((function(n){return t.ok?n:(W("Error processing request",{stepName:e.stepName}),Promise.reject(n))}))}))}function X(e,t,n){var a,r={url:n=/(http(s?)):\/\//gi.test(a=n)?a:"http://"+a,type:"webSites",cacheBust:!0,ctaEnabled:!0,async:!0,summarizeSiteText:!0,origin:"onboarding"},c={method:"POST",headers:{"HTTP-MC-AUTH":t,"Content-Type":"application/json"},body:JSON.stringify(r)};return fetch("".concat(e,"/profile/scrape"),c).then((function(e){return e.json().then((function(t){return e.ok?t:Promise.reject(t)})).catch((function(e){!function(e,t){Object(p.a)("auto_designer","website_url_submitted","manual_scrape_failed_to_initiate:".concat(e," (set from onboarding)")),Object(Q.a)({channelName:"creative-assistant",message:"AutoDesigner - Manual Scrape Failed to Initiate (set from onboarding)",data:{url:t,e:e}})}(e,n)}))}))}var ee=function(e){if(!document.querySelector('script[src="'.concat(V.a.googleMaps.endpoint,"?key=").concat(V.a.googleMaps.keys.places,'&libraries=places"]'))){var t=document.createElement("script");t.type="text/javascript",t.id="google-places-script",t.src="".concat(V.a.googleMaps.endpoint,"?key=").concat(V.a.googleMaps.keys.places,"&libraries=places"),t.defer=!0,t.readyState?t.onreadystatechange=function(){"loaded"!==t.readyState&&"complete"!==t.readyState||(t.onreadystatechange=null,e())}:t.onload=function(){return e()},document.head.appendChild(t)}},te=function(e){var t=e.children,n=e.title,a=e.description,r=e.descriptionClass,o=Object(f.uc)().isMandrill,i=Object(f.vc)().currentStep,s=Object(C.a)().isPhone,l=o?1:2;return c.a.createElement(f.Jb,{gap:2},c.a.createElement(f.M,{level:l,appearance:"celebration"===i?s?"heading-2":"heading-1":s?"heading-3":"heading-2","data-analytics-tag":"signup-wizard-step-header"},n),c.a.createElement(f.Jb,{gap:6},c.a.createElement("div",{className:r&&r},a),c.a.createElement("div",null,t)))},ne=n(190),ae=c.a.forwardRef((function(e,t){var n=Object(r.useState)(!1),a=Object(s.a)(n,2),o=a[0],i=a[1];return o||Object(ne.a)("/js/ehawk/talon.js").then((function(){i(!0)})),Object(r.useEffect)((function(){o&&window.eHawkTalon?window.eHawkTalon():t.current.value='{"version": 5, "status": -1}'}),[o,t]),c.a.createElement("input",{ref:t,type:"hidden",name:"talon",id:"talon"})})),re=function(){return""!==Object(f.rc)("phone").value.trim()?c.a.createElement(f.J,{label:"Itâ€™s OK for Mailchimp to call me about special offers and services.",name:"is_phone_contact",component:f.o}):null};function ce(){var e=Object(f.tc)(),t=Object(f.vc)(),n=t.currentStep,a=t.stepNames;return function(){var t=a[a.indexOf(n)+1];t?e.navigate(t):e.finish()}}var oe=n(4604),ie=n.n(oe),se=function(e){var t=e.showSkip,n=void 0!==t&&t,a=e.position,o=e.stepNameTrack,i=e.onSkip,l=Object(r.useContext)(f.H),u=l.isSubmitting,m=l.errors,b=Object(f.vc)().currentStep,d=Object(r.useContext)(x.a).isPlanSelectorOnFinalStep,O=Object(r.useState)(!1),h=Object(s.a)(O,2),g=h[0],v=h[1],j=ce(),E=function(){Object(p.a)(k,"skip question",o,{dimension58:"skip",dimension59:"step name "+o}),W("Skip Step",{stepName:o})};return c.a.createElement(f.Jb,{gap:8},c.a.createElement("div",{className:ie.a.root},c.a.createElement(f.r,{gap:4},c.a.createElement(f.Kb,{onClick:function(){var e,t;K(),0!==Object.keys(m).length?(t=JSON.stringify(m),Object(p.a)(k,"error","validation error",{dimension58:t,dimension64:"step name "+o,dimension65:"step index "+a})):(e="finish"===b?"newsletter":o,Object(p.a)(k,"step complete",e,{dimension64:"step name "+o,dimension65:"step index "+a}))},type:"primary"},{celebration:"Let's Go!",finish:d?"Next":"Finish"}[b]||"Next"),n&&i&&c.a.createElement(f.Kb,{type:"tertiary",isLoading:g,disabled:u,onClick:function(){i&&(i(),E())}},"Skip"),n&&!i&&c.a.createElement(f.k,{type:"tertiary",isLoading:g,disabled:u,onClick:function(){v(!0),E(),j()}},"Skip"))))};function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me=function(e){var t,n=Object(U.a)({},e),a=Object(r.useRef)(),o=Object(f.uc)().countries,i=Object(f.tc)(),s=Object(f.rc)("address1").formContext.setValue,u=function(e,n){(t=new window.google.maps.places.Autocomplete(n.current,{types:["address"]})).setFields(["address_components","formatted_address"]),t.addListener("place_changed",(function(){return function(e){var n=t.getPlace();n&&n.address_components&&e(n.address_components.reduce((function(e,t){var n=t.types[0];return e[n]||(e[n]="country"===n?"United States"===t.long_name?"USA":t.long_name:t.short_name),e}),{}))}(e)}))},m=function(e){var t=e.street_number,n=e.route,a=e.locality,r=e.administrative_area_level_1,c=e.country,l=e.postal_code,u=o.filter((function(e){return e.name===c}))[0],m=u?u.value:null;s("address1")("".concat(t||""," ").concat(n||"")),s("city")(a||""),s("state")(r||""),s("zip")(l||""),s("country")(m||""),i.setInventory((function(e){return ue(ue({},e),{},{address1:"".concat(t||""," ").concat(n||""),city:a||"",state:r||"",zip:l||"",country:m||""})}))};return Object(r.useEffect)((function(){return ee((function(){return u(m,a)})),function(){"function"==typeof NodeList.prototype[Symbol.iterator]&&Object(l.a)(document.querySelectorAll("script")).forEach((function(e){e.src.includes("maps.googleapis.com")&&e.parentNode.removeChild(e)})),window.google=void 0}}),[]),c.a.createElement(f.Q,Object(U.a)({},n,{ref:a}))},pe=n(2767),be=n.n(pe);function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var fe=function(e){var t=Object(U.a)({},e),n=Object(r.useRef)(),o=Object(f.uc)(),i=o.countries,s=o.isMandrill,l=o.isQbLinkEntry,u=Object(f.vc)().currentStep,m=function(e){Object(p.a)(k,"field input",e,{dimension58:e,dimension59:"redacted",dimension64:"step name ".concat(u),dimension65:"step index ".concat(t.position)})};return c.a.createElement(te,{title:s?"Business Information":l?"Confirm your address":"What's your business address?",description:c.a.createElement(f.ac,null,"To follow"," ",c.a.createElement("a",{href:"https://mailchimp.com/help/terms-of-use-and-anti-spam-requirements/",target:"_blank",rel:"noopener noreferrer"},"anti-spam laws"),", your address will appear in the footer of every email you send with Mailchimp. Donâ€™t have an official business address? Learn about"," ",c.a.createElement("a",{href:"https://mailchimp.com/help/alternative-physical-address-ideas/",target:"_blank",rel:"noopener noreferrer"},"alternatives"))},c.a.createElement(f.nc,{onSubmit:function(e){return $(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({stepName:g.ADDRESS,talon:n.current.value,is_phone_contact:e.is_phone_contact?"Y":"N",is_scrape_optin:e.is_scrape_optin?"Y":"N"},e)).catch((function(e){return{errors:e.details}}))},requiredLabelStrategy:"optional",validation:{address1:Object(H.y)("Enter your street address or P.O. box"),city:Object(H.y)("Enter your city"),zip:Object(H.y)("Enter your postal code"),country:Object(H.y)("Select your country"),company:function(e){return s?Object(H.y)("Please enter your business name")(e):null},phone:function(e){return s?Object(H.D)(/^$|^(?=.*?[1-9])[0-9() +-]+$/,"i","Phone number must be valid")(e):null}}},c.a.createElement(f.I,null),c.a.createElement(f.Jb,{gap:8},c.a.createElement(f.Jb,null,s&&c.a.createElement(f.J,{component:f.Q,name:"company",label:"Business Name",required:!0,onNoErrorBlur:function(){return m("business name")}}),c.a.createElement(f.J,{component:me,name:"address1",label:"Address line 1 (Street address or post office box)",required:!0,onNoErrorBlur:function(){return m("address line 1 (street address or post office box)")}}),c.a.createElement(f.J,{component:f.Q,name:"address2",label:"Address line 2",onNoErrorBlur:function(){return m("address line 2")}}),c.a.createElement(f.r,null,c.a.createElement("div",{className:be.a.addressInputs},c.a.createElement(f.J,{component:f.Q,name:"city",label:"City",required:!0,onNoErrorBlur:function(){return m("city")}})),c.a.createElement("div",{className:be.a.addressInputs},c.a.createElement(f.J,{component:f.Q,name:"state",label:"State / Province / Region",required:!0,onNoErrorBlur:function(){return m("state")}}))),c.a.createElement(f.r,null,c.a.createElement("div",{className:be.a.addressInputs},c.a.createElement(f.J,{component:f.Q,name:"zip",label:"Zip / Postal code",inputMode:"tel",required:!0,onNoErrorBlur:function(){return m("zip / postal code")}})),c.a.createElement("div",{className:be.a.addressInputs},c.a.createElement(f.J,{component:f.Cb,name:"country",label:"Country",required:!0,onNoErrorBlur:function(){return m("country")}},i.map((function(e){return c.a.createElement(f.ib,{key:e.value,value:e.value},e.name)}))))),s&&c.a.createElement(r.Fragment,null,c.a.createElement(f.J,{component:f.Q,name:"phone",label:"Phone Number",inputMode:"tel",onNoErrorBlur:function(){return m("phone number")}}),c.a.createElement(re,null)),c.a.createElement(ae,{ref:n}))),c.a.createElement(se,Object(U.a)({},t,{stepNameTrack:g.ADDRESS}))))},Oe=n(1707),he=n(4607),ge=n.n(he),ve=function(){var e=Object(r.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],o=Object(r.useState)(!1),i=Object(s.a)(o,2),l=i[0],u=i[1],m=Object(C.a)().isPhone,b=Object(r.useContext)(x.a).questions,d=Object(f.vc)(),O=d.currentStep,h=d.inventory,g=function(e){Object(p.a)(k,"sales demo",e,{dimension53:"request a personalized demo",dimension54:"https://mailchimp.na.chilipiper.com/book/sales-onboarding",dimension55:"bottom right",dimension56:"schedule sales demo"})};return Object(r.useEffect)((function(){if(!l&&b&&h[v]&&h[j]){var e=b.find((function(e){return"subscribers"===e.name})),t=b.find((function(e){return"objective"===e.name}));"ecomm"===O&&h[j][0]===e.answers[5].answer_id?a(!0):"brand"!==O||h[v][0]!==t.answers[2].answer_id&&h[v][0]!==t.answers[3].answer_id||h[j][0]!==e.answers[5].answer_id||a(!0)}}),[O,h,l,b]),c.a.createElement(f.Jb,null,n&&c.a.createElement(f.g,{className:m?ge.a.phone:ge.a.desktop,imgSrc:"",description:"Want to learn how Mailchimp's email marketing tools can help grow your business? Our Sales team can walk you through it.",linkUrl:"https://mailchimp.na.chilipiper.com/book/sales-onboarding",linkTitle:"Request a personalized demo",title:"Hey there! ðŸ‘‹",onClose:function(){u(!0),a(!1),g("dismiss")},linkTarget:"_blank",onLinkClick:function(){return g("accept")}}))};function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ye=function(e){var t,n,a,r,c;return e.is_scrape_optin=!0,c=e,(Object(b.c)("9434a3117cff8a094521ccb904ab4668")?null===G(c.url):H.h.test(c.url))&&c.is_scrape_optin&&""!==c.url&&(n=(t=e).creativeAssistantCreds,a=t.url,X((r=n.contentEngineConfig).baseUrl,r.sawaAuth,a)),W("user opts in for Creative Assistant scrape"),W("Brand step saved"),Object(p.a)(k,"content scrape permission field select","brand",{dimension53:"".concat(N),dimension64:"brand",dimension65:"Step 5"}),Object(p.a)("auto_designer","input_text","manual_scrape_valid_url_typed:".concat(e.url," (set from onboarding)")),$(Ee(Ee({stepName:g.BRAND},e),{},{is_scrape_optin:e.is_scrape_optin?"Y":"N"})).catch((function(e){return{errors:e.details}}))},we=function(e){var t=Object(U.a)({},e),n=Object(f.vc)().currentStep,a=Object(f.tc)();return c.a.createElement(c.a.Fragment,null,c.a.createElement(Oe.a,{tier:2,label:"Get custom designs"}),c.a.createElement("div",{className:be.a.brandHeading},c.a.createElement(te,{title:"Want to import your brand?",description:"Enter your website URL and we'll import your logo, images, colors, and fonts into custom email designs. (It's pretty sweet.)"},c.a.createElement("div",null,c.a.createElement(f.nc,{onSubmit:function(e){a.setInventory((function(e){return Ee(Ee({},e),{},{is_scrape_optin:!0})})),ye(e)},validation:{url:Object(H.m)(Object(H.y)("Enter a valid URL"),Object(b.c)("9434a3117cff8a094521ccb904ab4668")?G:Object(H.B)("Enter a valid URL"))}},c.a.createElement("div",{className:be.a.urlInput},c.a.createElement(f.J,{component:f.Q,name:"url",label:"Website URL",helpText:"By clicking â€œNext,â€ you represent and warrant that you own or have permission to use all of the content from this website.",onNoErrorBlur:function(){return e="website url",void Object(p.a)(k,"field input",e,{dimension58:e,dimension59:"redacted",dimension64:"step name ".concat(n),dimension65:"step index ".concat(t.position)});var e}})),c.a.createElement("div",{className:be.a.brandButtons},c.a.createElement(se,Object(U.a)({},t,{stepNameTrack:g.BRAND,showSkip:!0}))),c.a.createElement(ve,null))))))};function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ne=function(e){return $(ke(ke({stepName:g.CONTACT},e),{},{is_phone_contact:e.is_phone_contact?"Y":"N"})).catch((function(e){return{errors:e.details}}))},xe=function(e){var t=Object(U.a)({},e),n=Object(f.vc)().currentStep,a=Object(f.uc)().isQbLinkEntry,r=function(e){Object(p.a)(k,"field input",e,{dimension58:e,dimension59:"redacted",dimension64:"step name ".concat(n),dimension65:"step index ".concat(t.position)})};return c.a.createElement(te,{title:a?"Confirm your business details":"Tell us a bit about you",description:a&&"We think this is the right information for your business, but please make sure everything's correct."},c.a.createElement(f.nc,{onSubmit:Ne,requiredLabelStrategy:"optional",validation:{fname:Object(H.y)("Enter your first name"),lname:Object(H.y)("Enter your last name"),company:Object(H.y)("Business name is required to set up your account"),phone:Object(H.D)(/^$|^(?=.*?[1-9])[0-9() +-]+$/,"i","Phone number must be valid")}},c.a.createElement(f.I,null),c.a.createElement(f.Jb,{gap:8},c.a.createElement(f.Jb,null,c.a.createElement(f.r,{justifyContent:"space-between"},c.a.createElement("div",{className:be.a.inputContainer,style:{flexGrow:2}},c.a.createElement(f.J,{component:f.Q,name:"fname",label:"First name",required:!0,onNoErrorBlur:function(){return r("first name")}})),c.a.createElement("div",{className:be.a.inputContainer,style:{flexGrow:2}},c.a.createElement(f.J,{component:f.Q,name:"lname",label:"Last name",required:!0,onNoErrorBlur:function(){return r("last name")}}))),c.a.createElement(f.J,{component:f.Q,name:"company",label:"Business name",required:!0,helpText:"You can always change this later in your account settings.",onNoErrorBlur:function(){return r("business name")}}),c.a.createElement(f.J,{component:f.Q,name:"phone",label:"Phone number",onNoErrorBlur:function(){return r("phone number")}}),c.a.createElement(re,null))),c.a.createElement(se,Object(U.a)({},t,{stepNameTrack:g.CONTACT}))))},Pe=n(972);function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ie=function(){var e=Object(Pe.g)().newsletters,t=Object(Pe.h)(),n=t.inventory,o=t.currentStep,i=t.stepNames,u=Object(Pe.f)(),m=e,b=Object(r.useState)([]),d=Object(s.a)(b,2),O=d[0],h=d[1],v=function(e){var t;O.includes(e)?h((function(t){return t.filter((function(t){return t!==e}))})):h((function(t){return[].concat(Object(l.a)(t),[e])})),u.setInventory((function(){return _e(_e({},n),{},Object(a.a)({},e,!n[e]))})),t=e,Object(p.a)(k,"choice card selection","How should we stay in touch?",{dimension58:t,dimension64:"step name ".concat(o),dimension65:"step index ".concat(i.indexOf(o))})};return c.a.createElement(te,{title:"How should we stay in touch?",description:c.a.createElement(f.ac,null,"Select the emails you'd like to receive from Mailchimp and our companies.")},c.a.createElement(f.nc,{onSubmit:function(e){return function(e,t){var n=t.filter((function(t){return e[t.name]})).map((function(e){return e.name}));n.length>0&&Object(p.a)("sign up","email preference confirm","",{dimension53:"continue",dimension54:"n/a",dimension55:"form submit button",dimension56:"submit newsletter subscription preferences form",dimension72:n.join(",")})}(e,m),$(_e({stepName:g.FINISH},n)).catch((function(e){return{errors:e.details}}))},onChange:v},c.a.createElement(f.Jb,{gap:0},c.a.createElement(f.I,null),c.a.createElement(f.q,{legend:"",value:O,onChange:v,multiple:!0},m.map((function(e){return c.a.createElement(f.p,{key:e.name,value:e.name,label:e.label},e.description)})))),c.a.createElement(se,null)))},Be=n(8),Te=n.n(Be),Ae=n(16),De=n(14),Le=n(67),Re=n(2849),qe=n(2831),Me=n(5665),Je=function(){var e=Object(f.tc)(),t=Object(f.vc)(),n=t.currentStep,a=t.stepNames,o=Object(r.useState)(!0),i=Object(s.a)(o,2),l=i[0],u=i[1],m=Object(r.useState)({}),p=Object(s.a)(m,2),b=p[0],O=p[1],h=Object(r.useState)(),v=Object(s.a)(h,2),j=v[0],E=v[1],y=Object(d.n)();Object(r.useEffect)((function(){Y.b.get(Y.b.query("/quickbooks/link/lazy",{})).then((function(e){return e.json().then((function(t){return e.ok?t:Promise.reject(t)}))})).then((function(e){var t=e.qboContactCount,n=Object(De.a)(e,["qboContactCount"]);E(t),O(n),u(!1)})).catch((function(e){Le.a.notify(e,(function(e){e.addMetadata("getLinkData error in LinkStep")}))}),[])}));var w=function(){var e=Object(Ae.a)(Te.a.mark((function e(){return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$({stepName:g.LINK});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return l?c.a.createElement(f.Y,{type:"large"},"Loading..."):c.a.createElement(te,{title:"Choose a marketing status and connect",description:c.a.createElement(Re.a,{qboContactCount:j})},c.a.createElement(f.Jb,{gap:8},c.a.createElement(qe.a,Object(U.a)({},b,{onComplete:function(){var t;w(),(t=a[a.indexOf(n)+1])?e.navigate(t):e.finish()},onSkip:function(){w(),y("/quickbooks/link/clear")},skipConnectingModalContent:"If you choose not to connect your QuickBooks and Mailchimp accounts, your customer data will not sync between the two platforms. You will still create a new Mailchimp account, which you can always connect to QuickBooks later."})),c.a.createElement(Me.a,{qboContactCount:j})))},ze=n(445),Fe=n(62),Ue=n(299),He=n(324),Ye=n(4609),Qe=n.n(Ye);function We(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?We(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):We(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ke=Object(Fe.b)(He.c),Ve=function(e){return function(t){var n=Object(r.useState)(!1),a=Object(s.a)(n,2),o=a[0],i=a[1],l=Object(Fe.e)(Ke,t.isSignUpFlow),u=l.error,m=l.value;return l.isLoading?c.a.createElement("div",{className:Qe.a.loading},c.a.createElement(Ue.a,null)):u?"":(window.setTimeout((function(){return i(!0)}),200),m.user?c.a.createElement(e,Ge(Ge({isLoaded:o},m),t)):"")}}(ze.a),Ze=function(e){var t=e.onComplete,n=void 0===t?function(){}:t,a=e.onSignupContinue,r=void 0===a?function(){}:a;return c.a.createElement(Ve,{isSignUpFlow:!0,onComplete:n,onSignupContinue:r})},$e=function(e){var t=e.setProgressBarIndex,n=Object(f.uc)().selectedPlanTierId,a=Object(f.vc)(),o=a.currentStep,i=a.stepNames,s=Object(f.tc)(),l=Object(r.useContext)(x.a).isPlanSelectorOnFinalStep,u=function(){var e=i.indexOf(o)+1;Object(p.a)(k,"step complete",o,{dimension64:"step name "+o,dimension65:"step index "+e});var t=i[i.indexOf(o)+1];t?s.navigate(t):s.finish()},m=function(){Z(g.PAYWALL).then((function(){u()}),(function(){u()}))},b=function(){var e;e=i.indexOf(o)+1,Object(p.a)(k,"step complete",o,{dimension64:"step name "+o,dimension65:"step index "+e});var t=i[i.indexOf(o)+1];t?s.navigate(t):s.finish()};return c.a.createElement(Ze,{selectedPlanTierId:n,onSignupContinue:l?function(){return t(100),void Z(g.PAYWALL).then(setTimeout((function(){b()}),1250),setTimeout((function(){b()}),1250))}:m,onComplete:l?function(){return t(100),Z(g.PAYWALL).then(setTimeout((function(){}),1250),setTimeout((function(){return Z(g.PAYWALL)}),1250))}:function(){return m}})},Xe=n(39),et=n(4611),tt=n.n(et);function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rt(e){var t=e.questionData,n=e.onQuestionButtonClick,o=e.position,i=Object(De.a)(e,["questionData","onQuestionButtonClick","position"]),u=t.answers,m=t.name,b=t.sub_text,d=t.text,O=t.type,g=Object(f.tc)(),v=Object(f.vc)(),j=v.currentStep,E=v.inventory,y=Object(f.uc)()[m]||[],w=Object(r.useState)(y||[]),S=Object(s.a)(w,2),N=S[0],P=S[1],C=Object(r.useState)({}),_=Object(s.a)(C,2),I=_[0],B=_[1],T=Object(r.useState)(!1),A=Object(s.a)(T,2),D=A[0],L=A[1],R=Object(r.useContext)(x.a).questions,q=u.reduce((function(e,t){var n=t.answer_id;return e[n]||(e[n]=t),e}),{}),M="multi_select"===O,J=function(e){return Array.isArray(e)?e:e?(g.setInventory((function(){return at(at({},E),{},Object(a.a)({},m,[e]))})),[e]):[]};Object(r.useEffect)((function(){if(M&&y.length){var e=y.reduce((function(e,t){var n=q[t].answer_id;return u.find((function(e){return e.answer_id===n&&"Skip"===e.text}))?P([]):q[n].disable.forEach((function(t){e[t]?e[t]++:e[t]=1})),e}),{});B(e)}}),[y]);var z=function(e){var n;if(n=q[e].text,Object(p.a)(k,"choice card selection",t.text,{dimension58:n,dimension64:"step name ".concat(j),dimension65:"step index ".concat(o)}),M){var r=q[e].disable;N.includes(e)?(P((function(t){return t.filter((function(t){return t!==e}))})),r.forEach((function(e){B((function(t){if(t[e]&&t[e]>=1)return at(at({},t),{},Object(a.a)({},e,t[e]-1))}))}))):(P((function(t){return[e].concat(Object(l.a)(t))})),r.forEach((function(e){I[e]?B((function(t){return at(at({},t),{},Object(a.a)({},e,t[e]+1))})):B((function(t){return at(at({},t),{},Object(a.a)({},e,1))}))})))}else P(e)},F=u.map((function(e){return"Skip"===e.text?null:c.a.createElement(f.p,{key:e.answer_id,value:e.answer_id,label:e.text,disabled:!!I[e.answer_id]},e.sub_text||"")})),H="Please select an option. You can skip the question if you'd like";return c.a.createElement(te,{title:d,description:b||"",descriptionClass:h()(tt.a.subText,tt.a.hideLegend,tt.a.questionStep)},c.a.createElement(f.nc,{initialValues:Object(a.a)({},m,!1),onSubmit:function(){var e=E[j];if(e)return $(at(at({stepName:j},E),{},Object(a.a)({answer_ids:J(e)},j,J(e)))).then((function(){if(n)return n(E,g.navigate,R,j)})).catch((function(e){return{errors:e.details}}))},validation:t.is_required?Object(a.a)({},m,(function(e){return"object"===Object(Xe.a)(e)&&0===e.length?"Please select an option":null})):Object(a.a)({},m,(function(e){if(D)return null;if(M){if(e){var t=!0;if(e.every((function(e){return!!(t=u.find((function(t){return t.answer_id===e&&"Skip"===t.text})))})),!t)return null}return H}return"object"!==Object(Xe.a)(e)||0!==e.length&&!u.find((function(t){return t.answer_id===e[0]&&"Skip"===t.text}))?null:H}))},c.a.createElement(f.I,{title:"No answer selected"}),c.a.createElement(f.J,{component:M?function(e){var t=Object(U.a)({},e);return c.a.createElement(f.q,{legend:"",value:N,onChange:function(e){z(e);var n=N.includes(e)||"Skip"===q[e].text?N.filter((function(t){return t!==e})):[].concat(Object(l.a)(N),[e]);t.onChange(n),g.setInventory((function(){return at(at({},E),{},Object(a.a)({},m,n))}))},multiple:!0},F)}:function(e){var t=Object(U.a)({},e);return c.a.createElement(f.q,{legend:"",value:N,onChange:function(e){z(e),t.onChange(e),g.setInventory((function(){return at(at({},E),{},Object(a.a)({},m,e))}))}},F)},name:m,legend:d,required:t.is_required,multiple:M},M?null:F),c.a.createElement(se,Object(U.a)({onSkip:function(){L(!0);g.setInventory((function(){return at(at({},E),{},Object(a.a)({},m,function(){var e=u.find((function(e){return"Skip"===e.text}));if(e)return[e.answer_id]}()))}))},showSkip:!t.is_required,position:o},i,{stepNameTrack:j})),"ecomm"===j&&c.a.createElement(ve,null)))}var ct=n(4613),ot=n.n(ct),it=n(4615),st=n.n(it),lt=n(4616),ut=n.n(lt);function mt(e){var t=e.celebrationData,n=Object(De.a)(e,["celebrationData"]),a=Object(f.uc)().objective,r=t.EMAIL_CELEBRATION,o=t.ENGAGE_CELEBRATION,i=t.FORMS_CELEBRATION,s=t.WEBSITE_CELEBRATION,l=r;1===a[0]&&(l=r),2===a[0]&&(l=o),3===a[0]&&(l=s),4===a[0]&&(l=i);var u=Object(f.vc)().currentStep;return c.a.createElement(f.kb,null,c.a.createElement(f.mb,null,c.a.createElement(f.r,{justifyContent:"space-around",alignItems:"center",className:h()(ot.a.celebrationCluster)},c.a.createElement("img",{src:ut.a,srcSet:st.a,alt:"",className:ot.a.celebrationMobile}),c.a.createElement("div",{className:ot.a.celebrationText},c.a.createElement(te,{title:l.title,description:l.text},c.a.createElement(f.nc,{onSubmit:function(){return $({stepName:g.CELEBRATION}).catch((function(e){return{errors:e.details}}))}},c.a.createElement("div",{className:ot.a.celebrationCTA},c.a.createElement(se,Object(U.a)({},n,{stepNameTrack:g[u.toUpperCase()]})))))),c.a.createElement("div",null,c.a.createElement("img",{src:ut.a,srcSet:st.a,alt:"",className:ot.a.celebrationImg})))))}var pt=n(27);function bt(e){var t=e.text,n=void 0===t?"":t,a=Object(r.useState)(null),o=Object(s.a)(a,2),i=o[0],l=o[1];return c.a.createElement(f.r,{alignItems:"center",gap:4,justifyContent:"flex-end"},c.a.createElement(f.ic,{buttonLabel:"Info",direction:"top",label:"User attributes: ".concat(JSON.stringify(i)," ").concat(n)},c.a.createElement(f.O,{icon:c.a.createElement(pt.Ab,null),label:"user_attributes",onClick:Object(Ae.a)(Te.a.mark((function e(){var t;return Te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y.b.get(Y.b.query("/signup/attribute/get-user-attributes",{})).then((function(e){return e.ok?e.json():Promise.reject()}));case 2:t=e.sent,l(t);case 4:case"end":return e.stop()}}),e)})))},"Info")))}var dt=n(214);function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ot=function(e){return $(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({stepName:g.AUDIENCE},e)).catch((function(e){return{errors:e.details}}))},ht=function(){switch(Object(f.rc)("audience").value){case"Y":return c.a.createElement(f.J,{label:"How many email contacts do you have?",name:"audCountSurvey",component:f.Cb},c.a.createElement(f.ib,{value:"0"},"Select a size..."),c.a.createElement(f.ib,{value:"1"},"500 or less"),c.a.createElement(f.ib,{value:"2"},"501 - 2,000"),c.a.createElement(f.ib,{value:"3"},"2,001 - 10,000"),c.a.createElement(f.ib,{value:"4"},"10,001 - 50,000"),c.a.createElement(f.ib,{value:"5"},"More than 50,000"));case"N":return c.a.createElement(f.ac,null,"That's ok! We can help you find contacts with ads and landing pages.");case"U":return c.a.createElement(f.J,{label:"What are you unsure about?",name:"audNotSureSurvey",component:f.Cb},c.a.createElement(f.ib,{value:"0"},"Select an option..."),c.a.createElement(f.ib,{value:"7"},"I don't know if I have permission to use the email addresses I have."),c.a.createElement(f.ib,{value:"8"},"I only send transactional emails."),c.a.createElement(f.ib,{value:"9"},"Something else."));default:return null}},gt=function(e){var t=Object(U.a)({},e);return c.a.createElement(te,{title:"Tell us about your contacts",description:c.a.createElement(f.ac,null,"This can include people who signed up to receive marketing emails from your organization, or those who solely receive transactional emails. Learn more about"," ",c.a.createElement("a",{href:"https://mailchimp.com/help/about-your-contacts/",target:"_blank",rel:"noopener noreferrer"},"Mailchimp contact types"),".")},c.a.createElement(f.nc,{onSubmit:Ot,validation:{audience:Object(H.y)("Please select an option")}},c.a.createElement(f.I,null),c.a.createElement(f.Jb,{gap:7},c.a.createElement(f.J,{label:"Do you have any contacts?",name:"audience",component:f.zb},c.a.createElement(f.yb,{value:"Y",label:"Yes"}),c.a.createElement(f.yb,{value:"N",label:"No"}),c.a.createElement(f.yb,{value:"U",label:"I'm not sure..."})),c.a.createElement(ht,null)),c.a.createElement(se,Object(U.a)({},t,{stepNameTrack:g.AUDIENCE}))))},vt=function(e){var t,n="neither"!==e.ecommerceOption&&(e.ecommerceSource.includes("own_site")||e.ecommerceSource.includes("other_site")),a=e.ecommerceSource&&e.ecommerceSource.includes("own_site"),r=e.ecommerceSource&&e.ecommerceSource.includes("other_site"),c=a&&r?"ecommerce":a?"own_site":r?"other_site":n?"ecommerce":"N/A";return W("User segments",{user_segment:[c]}),(t={ecommerce_option:n?"Y":"N",user_segment_question:[E,y,w],user_segment_response:[e.ecommerceOption,e.ecommerceSource?e.ecommerceSource:"N/A",e.ecommerceIntent?e.ecommerceIntent:"N/A"],user_segment:[c]},Y.b.post("/signup/wizard/set-segment-questions",Y.b.convertJsonToFormData(t)).then((function(e){return e.json().then((function(t){return e.ok?t:Promise.reject(t)}))}))).catch((function(e){return{errors:[e.error]}}))},jt=function(){var e=Object(f.rc)("ecommerceOption").value;return"both"===e||"products"===e||"services"===e?c.a.createElement(f.J,{name:"ecommerceSource",label:y,component:function(e){var t=e.value,n=void 0===t?[]:t,a=e.onChange,r=e.label,o=function(e){n.includes(e)?a(n.filter((function(t){return t!==e}))):a([].concat(Object(l.a)(n),[e]))};return c.a.createElement(f.E,{legend:r},c.a.createElement(f.o,{label:"Our own website or e-commerce store",value:n.includes("own_site"),onChange:function(){return o("own_site")}}),c.a.createElement(f.o,{label:"Another businessâ€™s website or e-commerce store",value:n.includes("other_site"),onChange:function(){return o("other_site")}}))}}):"neither"===e?c.a.createElement(f.J,{label:w,name:"ecommerceIntent",component:f.zb},c.a.createElement(f.yb,{value:"products",label:"Products"}),c.a.createElement(f.yb,{value:"services",label:"Services"}),c.a.createElement(f.yb,{value:"both",label:"Both"}),c.a.createElement(f.yb,{value:"neither",label:"Neither"})):null},Et=function(e){var t=Object(U.a)({},e);return c.a.createElement(te,{title:"Help us determine the best experience for you"},c.a.createElement(f.nc,{onSubmit:vt,validation:{ecommerceOption:Object(H.y)("Please select an option"),ecommerceIntent:function(e,t){if("neither"===t.ecommerceOption&&!e)return"Please select an option"},ecommerceSource:function(e,t){if("neither"!==t.ecommerceOption&&!e)return"Please select an option"}}},c.a.createElement(f.I,null),c.a.createElement(f.Jb,{gap:8},c.a.createElement(f.J,{label:E,name:"ecommerceOption",component:f.zb},c.a.createElement(f.yb,{value:"products",label:"Products"}),c.a.createElement(f.yb,{value:"services",label:"Services"}),c.a.createElement(f.yb,{value:"both",label:"Both"}),c.a.createElement(f.yb,{value:"neither",label:"Neither"})),c.a.createElement(jt,null)),c.a.createElement(se,Object(U.a)({showSkip:!0},t,{stepNameTrack:g.SEGMENTS}))))};function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var St=function(){var e=Object(f.tc)(),t=ce();return c.a.createElement(f.lc,{onFinish:function(n){Z(g.SEGMENTS).then(function(n){e.setInventory((function(e){return wt(wt({},e),n)}),t)}(n))},initialInventory:{offerings:[],offeringOther:"",primaryOffering:"",ecommerceSources:[],ecommerceSourcesOther:""}},c.a.createElement(f.pc,null,c.a.createElement(f.oc,{name:g.SEGMENTS,component:Et})))},kt=[{name:g.PAYWALL,label:"Plan",component:$e},{name:g.CONTACT,label:"Profile",component:xe},{name:g.ADDRESS,component:fe},{name:g.AUDIENCE,label:"Contacts",component:gt},{name:g.BRAND,label:"Import brand",component:we},{name:g.SEGMENTS,label:"Customize",component:St},{name:g.LINK,label:"Link",component:Je},{name:g.FINISH,component:Ie}].concat(Object(l.a)([{EMAIL_CELEBRATION:{name:"celebration",title:"You're on your way!",text:"Letâ€™s get started creating emails thatâ€™ll help you sell more stuff."},ENGAGE_CELEBRATION:{name:"celebration",title:"You're on your way!",text:"Letâ€™s get you started creating emails thatâ€™ll keep your audience engaged."},FORMS_CELEBRATION:{name:"celebration",title:"You're on your way!",text:"Letâ€™s get started with signup forms so you can grow your list of email subscribers."},WEBSITE_CELEBRATION:{name:"celebration",title:"You're on your way!",text:"Letâ€™s get started creating your website with our drag-and-drop builder."}}].map((function(e){return{name:g.CELEBRATION,component:function(){return c.a.createElement(mt,{celebrationData:e})}}})))),Nt=function(e,t,n,a,r){var c=n.find((function(e){return"objective"===e.name})),o="back"===r,i=Array.isArray(e[v])?e[v][0]:e[v],s=i===c.answers[2].answer_id||i===c.answers[3].answer_id||i===c.answers[4].answer_id,l=i===c.answers[2].answer_id||i===c.answers[3].answer_id;if(a===v&&s&&!o)return t(j),!1;if(a===j){if(s&&o)return t(v),!1;if(l&&!o)return t(g.BRAND),!1}return a!==g.BRAND||!l||!o||(t(j),!1)},xt=function(e){var t=e.enabledSteps,n=e.hideBreadcrumbs,a=e.initialStep,o=e.initialInventory,i=e.showCheckoutUIRefreshExperiment,l=Object(d.n)(),u=Object(r.useContext)(x.a).questions,O=Object(r.useState)(0),h=Object(s.a)(O,2),g=h[0],v=h[1],j=t.map((function(e){var t=kt.find((function(t){return t.name===e}));if(t)return t;var n=u.find((function(t){return t.name===e}));if(n)return{name:n.name,questionData:n,component:rt};n||t||m.a.notify("Could not match stepName",(function(t){t.addMetadata("stepNameMatchError",{stepName:e})}))}));Object(d.m)().hash;return c.a.createElement(f.lc,{initialStep:a,initialInventory:o,onStepChange:function(e,t){var n="finish"===t?"newsletter":t;K(),Object(p.a)(S,"step change",n),function(e,t){var n=j.map((function(e){return e.name})),a=n.indexOf(e)+1;a<n.indexOf(t)+1&&Object(p.a)(k,"step back",e,{dimension64:"step name "+e,dimension65:"step index "+a})}(t,e)},onFinish:function(e){var t=e.exitPath;W("Exit Path",{path:t}),l(t),Object(p.a)(k,"success",{dimension74:"success"})}},c.a.createElement(F,{hideBreadcrumbs:n,onQuestionButtonClick:Nt,progressBarIndex:g,setProgressBarIndex:v,showCheckoutUIRefreshExperiment:i},c.a.createElement(f.pc,null,j.map((function(e,t){return c.a.createElement(f.oc,{key:e.name,name:e.name,position:t+1,onQuestionButtonClick:Nt,progressBarIndex:g,setProgressBarIndex:v,questionData:null==e?void 0:e.questionData,displayName:e.label?e.label:e.name.charAt(0).toUpperCase()+e.name.slice(1),component:e.component})}))),Object(b.c)("672003def6832e56ece5cea63e9accb2")&&c.a.createElement(bt,null),Object(b.c)("672003def6832e56ece5cea63e9accb2")&&c.a.createElement(c.a.Fragment,null,Object(b.c)("c0033a8a48e0f000565b1419fc5d9073")&&c.a.createElement(dt.a,{name:"gtkm-254-mutually-exclusive-test-one"},c.a.createElement(dt.b,{name:"control"},c.a.createElement(bt,{text:"gtkm-254-mutually-exclusive-test-one control CD169"})),c.a.createElement(dt.b,{name:"variant"},c.a.createElement(bt,{text:"gtkm-254-mutually-exclusive-test-one variant CD170"}))),Object(b.c)("a94eca43fa8c241b14d5fb6927d91288")&&c.a.createElement(dt.a,{name:"gtkm-254-mutually-exclusive-test-two"},c.a.createElement(dt.b,{name:"control"},c.a.createElement(bt,{text:"gtkm-254-mutually-exclusive-test-two control CD171"})),c.a.createElement(dt.b,{name:"variant"},c.a.createElement(bt,{text:"gtkm-254-mutually-exclusive-test-two variant CD172"}))))))},Pt=n(5741),Ct=function(e){var t=e.completedOrder,n=Object(r.useState)(!0),a=Object(s.a)(n,2),o=a[0],i=a[1],l=t.isInternal;return o?c.a.createElement(f.fc,{action:c.a.createElement(f.bc,{href:t.receiptUrl,target:"_blank",rel:"noopener noreferrer"},"View Receipt"),"data-qa":l?"orderSuccessNotification":null,onClose:function(){i(!1)}},"Your payment was successful."):null},_t=n(4617),It=n.n(_t);function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.default=function(e){var t=e.isAgency,n=void 0!==t&&t,a=e.isMandrill,o=void 0!==a&&a,i=e.isPlanSelectorOnFinalStep,s=void 0!==i&&i,l=e.activeStep,u=e.allStepNames,m=e.completedOrder,O=e.countries,h=e.exitPath,v=e.hideBreadcrumbs,j=e.initialFormData,E=e.questions,y=e.isQbLinkEntry,w=e.selectedPlanTierId,S=e.creativeAssistantCreds,N=void 0===S?null:S,P=e.isExperimentOneVariant,C=e.isExperimentTwoVariant,_=e.showCheckoutUIRefreshExperiment;return Object(r.useEffect)((function(){o&&W("is Mandrill");var e=Tt(Tt(Tt(Tt({dimension58:"welcome wizard",dimension59:"step name "+l},Object(b.c)("c0033a8a48e0f000565b1419fc5d9073")&&!P&&{dimension169:"gtkm-254-mutually-exclusive-test-one control"}),Object(b.c)("c0033a8a48e0f000565b1419fc5d9073")&&P&&{dimension170:"gtkm-254-mutually-exclusive-test-one variant"}),Object(b.c)("a94eca43fa8c241b14d5fb6927d91288")&&!C&&{dimension171:"gtkm-254-mutually-exclusive-test-two control"}),Object(b.c)("a94eca43fa8c241b14d5fb6927d91288")&&C&&{dimension172:"gtkm-254-mutually-exclusive-test-two variant"});l!==g.CELEBRATION&&Object(p.a)(k,"start","welcome wizard",e)})),y&&Object(Pt.a)(),c.a.createElement(d.c,{title:"Hello! You're going to love it here"},c.a.createElement("div",{className:It.a.root,"data-analytics-tag":"signup-wizard"},c.a.createElement(f.kc,null,c.a.createElement(x.a.Provider,{value:{questions:null!=E?E:[],isPlanSelectorOnFinalStep:s}},c.a.createElement(xt,{enabledSteps:u,hideBreadcrumbs:v,initialStep:l,initialInventory:Tt({countries:O,isAgency:n,isMandrill:o,exitPath:h,selectedPlanTierId:w,creativeAssistantCreds:N,isQbLinkEntry:y},j),showCheckoutUIRefreshExperiment:_}),m?c.a.createElement(Ct,{completedOrder:m}):null))))}}}]);
//# sourceMappingURL=route-signup-wizard.fc3ea483968da666b6dc.js.map