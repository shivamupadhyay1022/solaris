(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1001:function(e,t,n){"use strict";var a=n(3),r=n(0),c=n.n(r),s=n(652);t.a=function(){var e=Object(r.useRef)();return[Object(r.useCallback)((function(t){return c.a.createElement(s.a,Object(a.a)({targetRef:e},t))}),[e]),e]}},1003:function(e,t,n){e.exports={clickArea:"clickArea-FdEUf"}},1730:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"j",(function(){return i})),n.d(t,"i",(function(){return o})),n.d(t,"h",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return b})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return y}));var a=n(8),r=n.n(a),c=n(16),s=n(15);function u(e,t,n){var a={id:e,stats:t.join(",")};n&&(a.optinSince=n);var r=s.b.query("/lists/overview-api/stats-json",a);return s.b.get(r).then((function(e){return e.ok?e.json():Promise.reject(new Error("Could not get overview data for ".concat(t.join(","),". Error ").concat(e.status,": ").concat(e.statusText)))}))}function l(e){var t={id:e},n=s.b.query("/audience/get-audience-data",t);return s.b.get(n).then((function(e){return e.ok?e.json():Promise.reject(new Error("Could not get audience data. Error ".concat(e.status,": ").concat(e.statusText)))}))}function i(e){var t={id:e,overwrite_all:!1},n=s.b.query("/lists/switcher/set-selected-audience",t);return s.b.get(n).then((function(e){return e.ok?e.json():Promise.reject(new Error("Could not switch audience. Error ".concat(e.status,": ").concat(e.statusText)))}))}function o(e,t){var n={list_id:e},a=s.b.query("/lists/segments/members/storeJson",n),r=new FormData;return r.append("segment",JSON.stringify(t)),s.b.post(a,r).then((function(e){return e.ok?Promise.resolve(e):Promise.reject(new Error("Could not set segment in session. Error ".concat(e.status,": ").concat(e.statusText)))}))}function d(){return m.apply(this,arguments)}function m(){return(m=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.b.post("/audience/set-clv-upgrade-dismissed");case 2:return t=e.sent,e.next=5,t.json();case 5:if(n=e.sent,!t.ok){e.next=8;break}return e.abrupt("return",n);case 8:return e.abrupt("return",Promise.reject(new Error("Could not set user's CLV Upgrade prompt dismissal. Error ".concat(t.status,": ").concat(t.statusText))));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t,n){var a={id:e},r=s.b.query("/lists/segments/create-saved-segment",a),c=new FormData;return c.append("segment",JSON.stringify(t)),c.append("name",n),s.b.post(r,c).then((function(e){return e.ok?e.json():Promise.reject(new Error("Could not create segment. Error ".concat(e.status,": ").concat(e.statusText)))}))}function v(e,t,n){var a={id:t,"combine-with-list":e,"is-from-audience-overview":!0};n&&(a["combine-group"]=JSON.stringify(n));var r=s.b.query("/lists/combine",a);return s.b.post(r).then((function(e){return e.ok?e.json():Promise.reject(new Error("Could not combine audiences. Error ".concat(e.status,": ").concat(e.statusText)))}))}function b(e){var t={id:e},n=s.b.query("/lists/dismiss-reconfirm",t);return s.b.post(n).then((function(e){return e.ok?e.json():Promise.reject(new Error("Could not dismiss reconfirm compliance alert. Error ".concat(e.status,": ").concat(e.statusText)))}))}function p(e){var t={id:e},n=s.b.query("/audience/get-audience-compliance-data",t);return s.b.get(n).then((function(e){return e.ok?e.json():Promise.reject(new Error("Could not get compliance data for audience. Error ".concat(e.status,": ").concat(e.statusText)))}))}function y(e,t){return E.apply(this,arguments)}function E(){return(E=Object(c.a)(r.a.mark((function e(t,n){var a,c,u,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("resend-to-nonopeners",!0),a.append("id",n),e.next=5,s.b.post("/campaigns/replicate",a).then((function(e){return e.ok?e.json():Promise.reject(new Error("Could not replicate campaign. Error ".concat(e.status,": ").concat(e.statusText)))}));case 5:return c=e.sent,u={id:t,clicked:!0},l=s.b.query("/audience/set-recommendation-user-setting",u),e.next=10,s.b.post(l).then((function(e){return e.ok?e.json():Promise.reject(new Error("Could not save recommendation user setting. Error ".concat(e.status,": ").concat(e.statusText)))}));case 10:window.location.assign("/campaigns/edit?id=".concat(c.id));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1762:function(e,t,n){"use strict";n.d(t,"g",(function(){return l})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return d})),n.d(t,"h",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return v}));var a=n(15),r=(n(333),n(62));var c=Object(r.b)((function(e){var t=e.id,n=e.uniqueId,r=e.filters,c=a.b.query("/lists/surveys/get-responses",{survey_id:t,unique_id:n,filters:JSON.stringify(r)});return a.b.get(c).then((function(e){return e.json()}))}));function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.e)(c,e)}var u=Object(r.b)((function(e){var t=e.id,n=e.uniqueId,r=e.filters,c=a.b.query("/lists/surveys/get-response-rows",{survey_id:t,unique_id:n,filters:JSON.stringify(r)});return a.b.get(c).then((function(e){return e.json()}))}));function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.e)(u,e)}function i(e,t){return a.b.post("/lists/surveys/get-time-based-responses?survey_id=".concat(e,"&question_id=").concat(t)).then((function(e){return e.json()}))}function o(e,t){var n=a.b.query("/lists/surveys/delete-response",{survey_id:e,response_id:t});return a.b.post(n).then((function(e){return e.json()}))}function d(e,t,n){var r=a.b.query("/lists/surveys/tag-respondents",{survey_id:e,tags:JSON.stringify(t),filters:JSON.stringify(n)});return a.b.post(r).then((function(e){return e.json()}))}function m(e){return a.b.post("".concat(location.pathname,"/get-survey-template?template_id=").concat(e)).then((function(e){return e.json()}))}var f=Object(r.b)((function(e){var t=e.list_id;return a.b.get("/lists/surveys/get-merge-fields?list_id=".concat(t)).then((function(e){return e.json()})).then((function(e){return t="tag",n={},e.forEach((function(e){n[e[t]]=e})),n;var t,n}))}));function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.e)(f,e)}t.a=function(e,t){return a.b.post(a.b.query("/lists/surveys/edit-post",{survey_id:e}),JSON.stringify(t)).then((function(e){return e.json()}))}},2117:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c}));var a={on:"on",draft:"draft",off:"off"},r={published:"Published",draft:"Draft",unpublished:"Unpublished"},c="Untitled Survey"},2327:function(e,t,n){"use strict";var a=n(7),r=n(0),c=n.n(r),s=(n(9),n(4)),u=n(15),l=n(2796),i=n.n(l);t.a=function(e){var t=e.closeModal,n=e.isOpen,l=e.setDeletedSurveyIds,o=e.surveyIds,d=Object(r.useState)(""),m=Object(a.a)(d,2),f=m[0],v=m[1],b=Object(r.useState)(!1),p=Object(a.a)(b,2),y=p[0],E=p[1],g="DELETE"!==f,h=Object(r.useRef)(null),j=function(e){!function(e){u.b.post("/lists/surveys/delete",JSON.stringify({"survey_id[]":e})).then((function(){h.current.click(),E(!1),v(""),l(e)}))}(e),E(!0)};return c.a.createElement(s.ab,{isOpen:n,onRequestClose:t,width:"xs"},c.a.createElement(s.cb,null),c.a.createElement(s.fb,null,"Are you sure?"),c.a.createElement(s.bb,null,c.a.createElement(s.db,null,c.a.createElement(s.Jb,{gap:4},c.a.createElement(s.ac,{className:i.a.text},"You're about to delete this survey."),c.a.createElement(s.Q,{type:"text",name:"delete",label:"Type DELETE to confirm",placeholder:"DELETE",onChange:function(e){v(e.toUpperCase())},value:f})))),c.a.createElement(s.eb,null,c.a.createElement(s.k,{type:"primary",onClick:function(){return j(o)},disabled:g,isLoading:y},"Delete"),c.a.createElement(s.k,{type:"secondary",onClick:t,ref:h},"Cancel")))}},2328:function(e,t,n){e.exports={genericSlatWrapper:"genericSlatWrapper-SmiPg",action:"action-3womm",responseCount:"responseCount-3prAS",containTitle:"containTitle-2E05n",statusDetails:"statusDetails-1xIvc"}},2396:function(e,t,n){"use strict";var a=n(7),r=n(0),c=n.n(r),s=(n(9),n(4)),u=(n(15),n(2327));t.a=function(e){var t=e.hasResponse,n=e.hostedStatus,l=e.setDeletedSurveyIds,i=e.surveyId,o=Object(r.useState)(!1),d=Object(a.a)(o,2),m=d[0],f=d[1],v="draft"===n,b=v?"/lists/surveys/view":"/lists/surveys/results";return c.a.createElement(r.Fragment,null,c.a.createElement(s.t,{href:b+"?survey_id="+i,label:v?"Edit draft":"View results",type:"secondary"},t&&c.a.createElement(s.f,{href:"/lists/surveys/export?survey_id="+i,label:"Export"}),c.a.createElement(s.f,{label:"Replicate",href:"/lists/surveys/replicate?survey_id=".concat(i)}),c.a.createElement(s.f,{label:"Delete",onClick:function(){f(!0)}})),c.a.createElement(u.a,{closeModal:function(){f(!1)},isOpen:m,surveyIds:[i],setDeletedSurveyIds:l}))}},2796:function(e,t,n){e.exports={text:"text-vMiai"}},2798:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=(n(9),n(27)),s=n(4),u=n(2799),l=n.n(u);t.a=function(e){var t=e.currentPage,n=e.itemsPerPage,a=e.setCurrentPage,u=e.totalCount,i=e.trackPaginationClick,o=Math.ceil(u/n),d=n*(t-1)+1,m=t===o?u:n*t;return r.a.createElement("div",{className:l.a.pagination},r.a.createElement(s.O,{label:"previous",icon:r.a.createElement(c.Mb,{className:l.a.icon}),disabled:1===t,onClick:function(){i&&i("previous",t,t-1),a(t-1)}})," ",d===m?d:d+"-"+m," ","of ",u," ",r.a.createElement(s.O,{label:"next",icon:r.a.createElement(c.Nb,{className:l.a.icon}),disabled:t===o,onClick:function(){i&&i("next",t,t+1),a(t+1)}}))}},2799:function(e,t,n){e.exports={pagination:"pagination-352sX",icon:"icon-s4mCj"}},2846:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=(n(9),n(4)),s=n(2396),u=n(2328),l=n.n(u),i=function(e){var t=e.status,n={on:{type:"success",content:"Published"},draft:{type:"default",content:"Draft"},closed:{type:"neutral",content:"Closed"},off:{type:"neutral",content:"Closed"}};return r.a.createElement(c.i,{type:n[t].type},n[t].content)},o=n(2117),d=function(e){var t=e.survey;return r.a.createElement(c.Jb,{gap:2},r.a.createElement("div",{className:l.a.statusDetails},r.a.createElement(i,{status:t.hosted_status}),r.a.createElement(c.ac,{appearance:"small-secondary"},"Last edited: ",t.updated_at," by ",t.updated_by)),r.a.createElement("a",{className:l.a.containTitle,href:"/lists/surveys/view?survey_id="+t.survey_id},null===t.title||""===t.title?o.a:t.title))};t.a=function(e){var t=e.setDeletedSurveyIds,n=e.surveys,u=e.handleSurveySelection,i=e.selectedSurveys,o=function(e){return r.a.createElement("div",{className:l.a.genericSlatWrapper},r.a.createElement(d,{survey:e}),r.a.createElement("div",{className:l.a.responseCount},r.a.createElement(c.ac,{appearance:"small-secondary"},"Responses"),r.a.createElement(c.ac,null,e.response_count)),r.a.createElement("div",{className:l.a.action},r.a.createElement(s.a,{hasResponse:e.response_count>0,hostedStatus:e.hosted_status,setDeletedSurveyIds:t,surveyId:e.survey_id})))};return r.a.createElement(c.Hb,null,null==n?void 0:n.map((function(e,t){return r.a.createElement(a.Fragment,{key:e.survey_id},void 0===u?r.a.createElement(c.Gb,null,o(e)):r.a.createElement(c.Gb,{onSelect:function(){return u(e.survey_id)},isSelected:i.includes(e.survey_id)},o(e)))})))}},2960:function(e,t,n){e.exports={cardListContainer:"cardListContainer-3hDcA",card:"card-2OuoJ",contentContainer:"contentContainer-Om34A",categoryBadge:"categoryBadge-3AUoO",contentDescription:"contentDescription-cyWyK",contentTitle:"contentTitle-weCFy",cardDetails:"cardDetails-3OA17",modalQuestion:"modalQuestion-Dbu_O"}},4882:function(e,t,n){e.exports={contents:"contents-3tHn2",center:"center-1JgYM"}},4884:function(e,t,n){e.exports={alignRight:"alignRight-VS0F8",surveysListing:"surveysListing-3fAjh",surveyTitle:"surveyTitle-2lCQz",wrapper:"wrapper-3aTBe"}},4886:function(e,t,n){e.exports={audienceInfo:"audienceInfo-1_NKj",audienceSelect:"audienceSelect-2LyEk",tertiaryButton:"tertiaryButton-1MRu_",viewAudience:"viewAudience-39jWX"}},4889:function(e,t,n){e.exports={feedbackLinkContainer:"feedbackLinkContainer-1kkz6"}},4891:function(e,t,n){e.exports={footer:"footer-pzhkW"}},5262:function(e,t,n){"use strict";var a=n(0),r=n.n(a),c=(n(9),n(21)),s=n(8),u=n.n(s),l=n(16),i=n(7),o=n(18),d=n(4),m=n(652),f=n(1762),v=n(2960),b=n.n(v),p=function(e){var t=e.template,n=Object(m.b)(),s=Object(i.a)(n,2),v=s[0],p=s[1],y=t.template_id,E=t.title,g=t.category,h=t.description,j=t.auto_tag_text,w=Object(a.useState)(!1),k=Object(i.a)(w,2),O=k[0],C=k[1],_=Object(a.useState)([]),S=Object(i.a)(_,2),N=S[0],P=S[1];function x(e){return e.filter((function(e){return null!==e.question}))}function I(e){Object(o.a)(e,"click",E)}var D=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),I("survey_templates_preview"),e.next=4,Object(f.c)(y);case 4:(t=e.sent)&&(n=x(t.template_sections_content),P(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("li",{className:b.a.card},r.a.createElement(d.Jb,null,r.a.createElement("div",{className:b.a.cardDetails},r.a.createElement(v,{targetRef:p},r.a.createElement("div",null,r.a.createElement(d.i,{className:b.a.categoryBadge,type:"neutral"},g)),r.a.createElement(c.b,{ref:p,className:b.a.selectTemplateButton,onClick:function(){return D()},to:"#"},r.a.createElement(d.ac,{className:b.a.contentTitle,appearance:"heading-3"},E)),r.a.createElement(d.ac,{className:b.a.contentDescription,appearance:"small"},h)),r.a.createElement(d.ab,{isOpen:O,onRequestClose:function(){return C(!1)}},r.a.createElement(d.cb,null),r.a.createElement(d.fb,null,"Preview template"),r.a.createElement(d.bb,null,r.a.createElement(d.db,null,r.a.createElement(d.Jb,{gap:4},r.a.createElement(d.ac,{className:b.a.modalTitle,appearance:"heading-2"},E),r.a.createElement(d.ac,{className:b.a.modalDescription,appearance:"medium"},h),r.a.createElement(d.ac,{className:b.a.autoTagText,appearance:"medium"},j),r.a.createElement(d.ac,{className:b.a.modalQuestionsHeader,appearance:"medium-bold"},"Questions included in this survey template:")),N.length>0?r.a.createElement("ul",{className:b.a.modalQuestionsList},N.map((function(e,t){return r.a.createElement("li",{key:t,className:b.a.modalQuestion},r.a.createElement(d.ac,{appearance:"medium"},e.question.inquiry))}))):r.a.createElement("div",null))),r.a.createElement(d.eb,null,r.a.createElement(d.k,{type:"tertiary",onClick:function(){return C(!1)}},"Keep browsing"),r.a.createElement(d.k,{type:"primary",href:"/lists/surveys/create-survey-from-template?template_id=".concat(y),onClick:function(){I("survey_templates"),Object(o.a)("survey index","click","create_survey_templates")}},"Create survey"))))))},y=function(e){var t=e.list;return r.a.createElement("ul",{className:b.a.cardListContainer},t.map((function(e){return r.a.createElement(p,{key:e.template_id,template:e})})))},E=n(4889),g=n.n(E);t.a=function(e){var t=e.templates;return null!==t?r.a.createElement("div",null,r.a.createElement(y,{list:t}),r.a.createElement("div",{className:g.a.feedbackLinkContainer},r.a.createElement("span",null,r.a.createElement(c.b,{to:"https://us1.list-manage.com/survey?u=756b7b0ec0f53fa4f4f602a7a&id=57c77dc836",target:"_blank",rel:"noopener noreferrer"},"Let us know what other templates you'd like to see.")))):r.a.createElement("div",null)}},5755:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return H}));var a=n(0),r=n.n(a),c=(n(9),n(21)),s=n(4),u=n(7),l=n(27),i=n(18),o=n(2327),d=n(4882),m=n.n(d),f=function(e){var t=e.listId;return r.a.createElement(a.Fragment,null,r.a.createElement("hr",null),r.a.createElement(s.r,{justifyContent:"center"},r.a.createElement(s.Jb,{gap:7,className:m.a.contents},r.a.createElement("h2",{className:m.a.center},"Get business insights when you collect feedback from your audience"),r.a.createElement("div",{className:m.a.center},r.a.createElement(s.k,{type:"primary",href:"/lists/surveys/create?list_id="+t},"Create Survey")),r.a.createElement("a",{className:m.a.center,href:"https://mailchimp.com/help/create-a-survey/?_ga=2.142309106.1153585578.1628517637-522120772.1624578948",target:"_blank",rel:"noopener noreferrer"},"Learn more about Mailchimp Surveys"))))},v=n(2798),b=n(2396),p=n(26);function y(e){var t=e.currentPageItems,n=e.isAllChecked,c=e.itemPropertyName,u=e.setIsAllChecked,l=e.setValues,i=e.values;Object(a.useEffect)((function(){u(!1),l([])}),[t,u,l]);return r.a.createElement(s.o,{value:n,label:"Check or Uncheck All Items",onChange:function(){i.length<t.length?(t.map((function(e){return i.includes(e[c])||l((function(t){return[].concat(Object(p.a)(t),[e[c]])})),e})),u(!0)):(l([]),u(!1))},hideLabel:!0})}function E(e){var t=e.currentPageItems,n=e.isAllChecked,a=e.item,c=e.itemPropertyName,u=e.setIsAllChecked,l=e.setValues,i=e.values;return r.a.createElement(s.o,{value:i.includes(a[c]),onChange:function(){return function(e){if(i.includes(e))l((function(t){return t.filter((function(t){return t!==e}))})),n&&u(!1);else{var a=i.length+1;l((function(t){return[].concat(Object(p.a)(t),[e])})),a===t.length&&u(!0)}}(a[c])},label:a[c],hideLabel:!0})}var g=n(12),h=n(4884),j=n.n(h),w=function(e){var t=e.currentPage,n=e.itemsPerPage,c=e.listId,d=e.setCurrentPage,m=e.setDeletedSurveyIds,p=e.surveys,h=e.totalCount,w=Object(a.useState)(p),k=Object(u.a)(w,2),O=k[0],C=k[1],_=Object(a.useState)([]),S=Object(u.a)(_,2),N=S[0],P=S[1],x=Object(a.useState)(!1),I=Object(u.a)(x,2),D=I[0],T=I[1],L=Object(a.useRef)(!0);Object(a.useEffect)((function(){!0!==L.current&&p.length>0?C(p):L.current=!1}),[L,p]);var R=Object(a.useState)(!1),q=Object(u.a)(R,2),A=q[0],J=q[1];return Object(g.c)("7bacac9f75310e24673180db12f0fad5")?r.a.createElement(s.Bb,{title:"Recent surveys",className:j.a.wrapper,actions:r.a.createElement(s.bc,{href:"/lists/surveys/library"},"View my surveys ",r.a.createElement(l.Nb,null))}):r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:j.a.wrapper},(0===h||0===O.length)&&r.a.createElement(f,{listId:c}),h>0&&O.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement(s.Rb,{caption:"",className:j.a.surveysListing},r.a.createElement(s.Sb,null,r.a.createElement(s.Vb,{key:0},r.a.createElement(s.Tb,null,r.a.createElement(y,{currentPageItems:O,isAllChecked:D,itemPropertyName:"survey_id",setIsAllChecked:T,setValues:P,values:N})),r.a.createElement(s.Tb,null,N.length>0&&r.a.createElement(s.k,{type:"primary",label:"Delete",href:"#",onClick:function(){J(!0)}},"Delete")),r.a.createElement(s.Tb,null," "),r.a.createElement(s.Tb,null,r.a.createElement("div",{className:j.a.alignRight},r.a.createElement(s.k,{type:0===N.length?"primary":"secondary",href:"/lists/surveys/create?list_id="+c,onClick:function(){return Object(i.a)("survey_index","click","create_survey_list")}},"Create Survey")))),null==O?void 0:O.map((function(e,t){return r.a.createElement(s.Vb,{key:t},r.a.createElement(s.Tb,null,r.a.createElement(E,{currentPageItems:O,isAllChecked:D,item:e,itemPropertyName:"survey_id",setIsAllChecked:T,setValues:P,values:N})),r.a.createElement(s.Tb,null,r.a.createElement("h4",null,r.a.createElement("a",{className:j.a.surveyTitle,href:"/lists/surveys/view?survey_id="+e.survey_id},null===e.title||""===e.title?"Untitled survey":e.title),r.a.createElement(r.a.Fragment,null,"on"===e.hosted_status&&r.a.createElement(s.i,{type:"success"},"Published"),"draft"===e.hosted_status&&r.a.createElement(s.i,{type:"default"},"Draft"))),r.a.createElement(s.ac,{row:1},"Edited ",e.updated_at," by ",e.updated_by)),r.a.createElement(s.Tb,null,r.a.createElement(s.ac,null,r.a.createElement("strong",null,e.response_count)),r.a.createElement(s.ac,null,"Responses")),r.a.createElement(s.Tb,null,r.a.createElement("div",{className:j.a.alignRight},r.a.createElement(b.a,{hasResponse:e.response_count>0,hostedStatus:e.hosted_status,setDeletedSurveyIds:m,surveyId:e.survey_id}))))})))),r.a.createElement(v.a,{currentPage:t,itemsPerPage:n,setCurrentPage:d,totalCount:h}))),r.a.createElement(o.a,{closeModal:function(){J(!1)},isOpen:A,setDeletedSurveyIds:m,surveyIds:N}))},k=n(2846),O=function(e){var t=e.setDeletedSurveyIds,n=e.surveys;return r.a.createElement(a.Fragment,null,r.a.createElement("div",null,r.a.createElement(s.Bb,{title:"Recent Surveys",actions:r.a.createElement(s.bc,{href:"/lists/surveys/library"},"View my surveys ",r.a.createElement(l.Nb,null))}),r.a.createElement(k.a,{setDeletedSurveyIds:t,surveys:n})))},C=n(8),_=n.n(C),S=n(16),N=n(69),P=n(1730),x=n(203),I=n(4886),D=n.n(I),T=function(e){var t=e.currentList,n=e.currentListId,c=e.lists,u=e.setCurrentListId,l=function(){var e=Object(S.a)(_.a.mark((function e(t,n,a){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.i)(t,a);case 2:window.location.assign(n);case 3:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),o=Object(a.useCallback)((function(e){e.preventDefault();Object(i.a)("survey_dashboard","Direct to subscribers"),l(n,"/lists/members?id=".concat(n,"&previewName=Subscribers"),{match:"all",conditions:[{field:"contact_status",op:"status_is",value:["Y"]}]})}),[n]);return r.a.createElement(a.Fragment,null,r.a.createElement(s.Cb,{className:D.a.audienceSelect,label:"Current audience",mode:"listbox",onChange:function(e){var t=Number(e);u(t)},renderSelectedValue:function(e,t){return e.length>0?e[0].label:t},value:n},null==c?void 0:c.map((function(e){return r.a.createElement(s.ib,{key:e.id,value:e.id,label:e.name},r.a.createElement(s.Jb,{gap:0},r.a.createElement(s.ac,{className:D.a.audienceName},e.name),r.a.createElement(s.ac,null,e.contactCount+" "+Object(x.a)("contact","contacts",e.contactCount))))})),r.a.createElement(s.ib,{key:0,value:"-1",label:"View audience",disabled:!0},r.a.createElement(s.k,{className:D.a.tertiaryButton+" "+D.a.viewAudience,onClick:function(){window.location.href="/lists/"},type:"tertiary"},"View audience"))),r.a.createElement("h2",{className:D.a.audienceInfo},"This audience has"," ",r.a.createElement(s.k,{className:D.a.tertiaryButton,onClick:function(){Object(i.a)("survey_dashboard","Direct to list"),window.location.href="/lists/members/clear-and-view?id=".concat(n)},type:"tertiary"},Object(N.c)(t.contactCount))," "+Object(x.a)("contact.","contacts.",t.contactCount)+" ",r.a.createElement(s.k,{className:D.a.tertiaryButton,onClick:o,type:"tertiary"},Object(N.c)(t.subscriberCount))," "+Object(x.a)("of them is a subscriber.","of them are subscribers.",t.subscriberCount)))},L=n(15),R=n(5262),q=function(e,t){return 0===e?1:Math.ceil(e/t)},A=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;L.b.get(L.b.query("/lists/surveys/get-surveys-per-page",{list_id:e,page:t})).then((function(e){return e.json()})).then((function(e){return a(e.surveys),r(e.totalCount),n&&n(e),e}))},J=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null===n&&(n=new URLSearchParams(window.location.search)),n.set(e,t),history.replaceState(null,null,"?"+n.toString())};function F(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t&&(t=new URLSearchParams(window.location.search)),t.delete(e),history.replaceState(null,null,"?"+t.toString())}var B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e>0?J("list_id",e,t):F("list_id",t)},U=function(e){var t=e.itemsPerPage,n=e.listId,c=e.lists,l=e.surveys,i=e.totalCount,o=e.templates,d=Object(a.useState)(n),m=Object(u.a)(d,2),f=m[0],v=m[1],b=Object(a.useState)(c.filter((function(e){return e.id===f}))[0]),p=Object(u.a)(b,2),y=p[0],E=p[1],h=Object(a.useState)(function(e,t){var n=new URLSearchParams(window.location.search).get("page"),a=null===n?1:Number(n);if(a<=1)return 1;var r=q(e,t);return a>r?r:a}(i,t)),j=Object(u.a)(h,2),k=j[0],C=j[1],_=Object(a.useState)(null),S=Object(u.a)(_,2),N=S[0],P=S[1],x=Object(a.useState)(l),I=Object(u.a)(x,2),D=I[0],L=I[1],F=Object(a.useState)(i),U=Object(u.a)(F,2),V=U[0],M=U[1];return Object(a.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=e.get("list_id");if(null===t)B(f,e);else if(f!==Number(t)){J("page",1,e),B(f,e);A(f,1,(function(){E(c.filter((function(e){return e.id===f}))[0]),C(1)}),L,M)}}),[f,c]),Object(a.useEffect)((function(){var e=new URLSearchParams(window.location.search),t=e.get("page")||1;k!==Number(t)&&(J("page",k,e),A(e.get("list_id"),k,null,L,M))}),[k]),Object(a.useEffect)((function(){if((null==N?void 0:N.length)>0){var e=null,n=new URLSearchParams(window.location.search),a=n.get("page")?Number(n.get("page")):1,r=a;if(a>1){var c=q(V-N.length,t);a>c&&(J("page",r=c),e=function(){null!==r&&C(r)}),P(null)}A(n.get("list_id"),r,e,L,M)}}),[N,t,V]),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.Jb,{gap:9},Object(g.c)("7bacac9f75310e24673180db12f0fad5")?V>0?r.a.createElement(O,{setDeletedSurveyIds:P,surveys:D.length>3?D.slice(0,3):D}):r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{currentList:y,currentListId:f,lists:c,setCurrentListId:v}),r.a.createElement(w,{currentPage:k,itemsPerPage:t,listId:f,setCurrentPage:C,setDeletedSurveyIds:P,surveys:D,totalCount:V})),r.a.createElement("div",null,r.a.createElement(s.Bb,{title:"Start with a template"}),r.a.createElement(R.a,{templates:o}))))},V=function(){return r.a.createElement(s.jb,{title:"Go from responses to results",variant:"cucumber",secondary:"Our surveys let you target, gather, and manage customer feedback that can turn reviews and requests into research-based products and services. ",bottom:r.a.createElement("img",{alt:"",src:"/images/surveys/create-a-survey.png",width:"50%"}),isBottomOverlap:!0})},M=function(e){var t=e.listId;return r.a.createElement(s.nb,{title:"Surveys",breadcrumbs:r.a.createElement(s.rb,null,r.a.createElement(s.qb,{href:"/audience"},"Audience")),actions:r.a.createElement(s.ob,null,r.a.createElement(s.pb,{type:"primary",href:"/lists/surveys/create?list_id="+t},"Create Survey"))})},Q=n(4891),W=n.n(Q),G=function(){return r.a.createElement("div",{className:W.a.footer},r.a.createElement(s.Bb,{title:"Need some help?"}),r.a.createElement(s.Mb,{gap:3},r.a.createElement(s.w,{src:"/images/surveys/how-to-create-survey.png",variant:"cornflower",eyebrow:"Guide",alt:"How to create a Survey",title:r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:" https://mailchimp.com/help/create-a-survey/?_ga=2.150789494.1310757255.1654009078-1235817555.1652110119"},"How to create a Survey"),description:" Follow this guide to create a survey and collect valuable feedback from your audience."}),r.a.createElement("div",null),r.a.createElement("div",null)))},H=function(e){var t=e.itemsPerPage,n=e.listId,a=e.lists,u=e.surveys,l=e.totalCount,i=e.templates;return r.a.createElement(s.kc,null,r.a.createElement(c.c,{title:"Surveys"},r.a.createElement(s.kb,null,r.a.createElement(M,{listId:n}),r.a.createElement(V,null),r.a.createElement(s.mb,null,r.a.createElement(U,{itemsPerPage:t,listId:n,lists:a,surveys:u,totalCount:l,templates:i}),r.a.createElement(G,null)))))}},652:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m.a}));var a=n(3),r=n(14),c=n(0),s=n.n(c),u=(n(9),n(10)),l=n.n(u),i=n(1003),o=n.n(i),d=s.a.forwardRef((function(e,t){var n=e.as,u=void 0===n?"div":n,i=e.children,d=e.className,m=e.onClick,f=e.targetRef,v=Object(r.a)(e,["as","children","className","onClick","targetRef"]),b=Object(c.useCallback)((function(e){var t=f.current;t&&(e.defaultPrevented||(t.contains(e.target)?m&&m(e):(e.stopPropagation(),e.preventDefault(),t.focus(),t.click())))}),[m,f]);return s.a.createElement(u,Object(a.a)({ref:t},v,{className:l()(o.a.clickArea,d),onClick:b}),i)})),m=n(1001)}}]);
//# sourceMappingURL=route-lists-surveys.123ac6fda8ba2c6e2418.js.map