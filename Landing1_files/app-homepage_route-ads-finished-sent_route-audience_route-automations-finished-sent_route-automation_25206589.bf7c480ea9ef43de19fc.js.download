(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1707:function(e,t,n){"use strict";var a=n(3),r=n(14),i=n(7),o=n(0),c=n.n(o),s=(n(9),n(10)),m=n.n(s),l=n(451),d=n(4),u=n(1763),b=n.n(u),f=n(1765),p=n.n(f),v=n(1766),g=n.n(v),h=n(1767),E=n.n(h);function C(e,t){return t.isMotionReduced?E.a:"intro"===e?p.a:"hover"===e?g.a:E.a}var y=function(e){var t=e.label,n=void 0===t?"Based on best practices":t,i=e.className,o=Object(r.a)(e,["label","className"]);return c.a.createElement("span",Object(a.a)({className:m()(b.a.container,b.a.pill,i)},o),n)},O=function(e){var t=e.children,n=e.toggletipText,a=e.direction;return n?c.a.createElement(d.ic,{direction:a,label:n,unsafe_isHoverable:!0},t):c.a.createElement(c.a.Fragment,null,t)},x=function(e){var t=e.className,n=e.condensed,r=void 0!==n&&n,s=e.label,u=void 0===s?"Based on your data":s,f=e.toggletipText,p=e.direction,v=void 0===p?"right":p,g=Object(l.a)(),h=function(){var e=Object(o.useRef)(),t=Object(o.useState)(!1),n=Object(i.a)(t,2),a=n[0],r=n[1];return Object(o.useEffect)((function(){if(e.current&&!a){var t=new IntersectionObserver((function(e){e[0].isIntersecting&&r(!0)}),{threshold:0});return t.observe(e.current),function(){t.disconnect()}}}),[a]),{ref:e,hasIntersected:a}}(),E=h.ref,y=h.hasIntersected,x=Object(o.useState)(!1),j=Object(i.a)(x,2),k=j[0],I=j[1],R=Object(o.useState)(!1),N=Object(i.a)(R,2),T=N[0],w=N[1],D=function(){k||I(!0)},P=k&&y,S=f?"button":"span";return c.a.createElement("span",{className:t,ref:E},c.a.createElement(d.kc,{as:"span"},c.a.createElement(O,{toggletipText:f,direction:v},c.a.createElement(S,Object(a.a)({className:m()(b.a.container,b.a.tierTwo,f&&b.a.clickable,r&&b.a.condensed,!P&&b.a.hidden),onMouseEnter:function(){w(!0)},onMouseLeave:function(){w(!1)}},f&&{type:"button"}),c.a.createElement("span",{className:m()(b.a.circle,P&&b.a.animate)}),c.a.createElement("span",{onLoad:D,className:m()(b.a.image,b.a.tierTwo,!g&&b.a.intro,P&&b.a.animate,T&&b.a.hidden),style:{backgroundImage:"url(".concat(C("intro",{isMotionReduced:g}),")")}}),c.a.createElement("img",{onLoad:D,className:m()(b.a.image,b.a.tierTwo,!T&&!g&&b.a.hidden),src:C("hover",{isMotionReduced:g}),alt:""}),c.a.createElement("span",{className:m()(b.a.label,P&&b.a.animate)},c.a.createElement("span",{className:m()(b.a.text,P&&b.a.animate)},u)),c.a.createElement("span",{className:m()(b.a.circle,P&&b.a.animate)})))))},j=function(e){var t=e.className,n=e.finishAnimation,a=e.onComplete,r=e.segment,s=void 0===r?"intro":r,l=Object(o.useState)(+new Date),d=Object(i.a)(l,2),u=d[0],f=d[1],p=Object(o.useState)(s),v=Object(i.a)(p,2),g=v[0],h=v[1],E=Object(o.useState)(null),C=Object(i.a)(E,2),y=C[0],O=C[1],x=Object(o.useState)(null),j=Object(i.a)(x,2),k=j[0],I=j[1];Object(o.useEffect)((function(){var e,t="/images/smart-mark/combined-smartmark-sprite.png",n=new Image;return n.src=t,n.onload=function(){O(t),e=setTimeout((function(){I(!0)}),1e3)},function(){clearTimeout(e)}}),[]);var R=Object(o.useCallback)((function(e){e.animationName.toUpperCase().includes(g.toUpperCase())&&("intro"===g?h("loop"):"loop"===g?n?h("outro"):f(+new Date):"outro"===g&&(h(""),a()))}),[g,h,n,a]);return c.a.createElement("div",null,c.a.createElement("div",{key:u,onAnimationEnd:R,style:{backgroundImage:"url(".concat(y||"",")")},className:m()(t,b.a.tierThree,k&&"intro"===g&&b.a.intro,"loop"===g&&b.a.loop,"outro"===g&&b.a.outro)}))};t.a=function(e){var t=e.tier,n=Object(r.a)(e,["tier"]);switch(t){case 1:return c.a.createElement(y,n);case 2:return c.a.createElement(x,n);case 3:return c.a.createElement(j,n);default:return null}}},1763:function(e,t,n){e.exports={container:"container-3Ddep",tierTwo:"tierTwo-2NDDD",pill:"pill-1ohxD",image:"image-eHLbF",intro:"intro-vKtnE",tierThree:"tierThree-1x5Hx",t3IntroV:"t3IntroV-3CZT-",t3IntroH:"t3IntroH-2e4hY",loop:"loop-KO2du",t3LoopV:"t3LoopV-lMtP7",t3LoopH:"t3LoopH-7Y5AR",outro:"outro-HIcXc",t3OutroV:"t3OutroV-1JPNz",t3OutroH:"t3OutroH-2JcGC",label:"label-3lkw0",circle:"circle-22psN",condensed:"condensed-20cCC",text:"text-1AWaQ",animate:"animate-2Lc7H",t2Intro:"t2Intro-3Fplp",smartMarkLabelReveal:"smartMarkLabelReveal-GaUIz",smartMarkLeftCircleReveal:"smartMarkLeftCircleReveal-WF1VY",smartMarkRightCircleReveal:"smartMarkRightCircleReveal-2jjKF",smartMarkTextReveal:"smartMarkTextReveal-2_fHA",clickable:"clickable-UqZZf",hidden:"hidden-3qIq_",displayNone:"displayNone-2c8ux",t3Start:"t3Start-15rgQ"}},1765:function(e,t,n){e.exports=n.p+"d0138fd48813200686de111abf67157c.png"},1766:function(e,t,n){e.exports=n.p+"bed93525761cd32e4716846dd24ab390.gif"},1767:function(e,t,n){e.exports=n.p+"5dc87358801c60300dddec48ab806fd3.gif"},1783:function(e,t,n){e.exports={richText:"richText-1epr5",bannerContainer:"bannerContainer-1xL9Y",buttonContainer:"buttonContainer-ECV_l",image:"image-3QEG3",textContainer:"textContainer-22a53"}},4108:function(e,t,n){e.exports={mediaContainer:"mediaContainer-3gPJR",noVideo:"noVideo-3tZIj"}},4110:function(e,t,n){e.exports={richText:"richText-24EGe",stackLayout:"stackLayout-VRWs1",bannerContainer:"bannerContainer-Pud-A",mediaContainer:"mediaContainer-1nC2U",media:"media-2IlkP","brand-coconut":"brand-coconut-1PI2Q","brand-squash":"brand-squash-fz5Fj","brand-radish":"brand-radish-3zbgr","brand-parsnip":"brand-parsnip-1NxrC"}},4112:function(e,t,n){e.exports={richText:"richText-2_7cQ",portraitContainer:"portraitContainer-2EjCy",imageContainer:"imageContainer-3HrYp",imageAndDismissContainer:"imageAndDismissContainer-3zvOL",iconButton:"iconButton-oF1FY",contentContainer:"contentContainer-LYi5J"}},4114:function(e,t,n){e.exports={richText:"richText-3tkgw",recipeContainer:"recipeContainer-3W3tI",imageContainer:"imageContainer-2odZZ",icons:"icons-3vSwM",dismissContainer:"dismissContainer-Vuo83",contentContainer:"contentContainer-2trcM",bodyContainer:"bodyContainer-bldE9",cta:"cta-2Cp49","brand-coconut":"brand-coconut-2IbOy","brand-squash":"brand-squash-e8JrN","brand-radish":"brand-radish-e_cEv","brand-parsnip":"brand-parsnip-1TmhH"}},850:function(e,t,n){"use strict";var a=n(7),r=n(0),i=n.n(r),o=(n(9),n(214)),c=n(4),s=n(8),m=n.n(s),l=n(16),d=n(98);function u(e,t){return Object(d.a)("/recs_engine.v1.RecsEngine/GetUserRecommendation",e,t)}var b=n(12),f=function(){return!!Object(b.c)("398988474da96e20f7c3132e15f73399")&&new URLSearchParams(window.location.search).get("recs-engine-preview")},p=function(){var e=Object(l.a)(m.a.mark((function e(t){var n,a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},!(a=f())){e.next=8;break}return e.next=5,u({accessPointId:t,recommendationId:a,experimentOverride:new URLSearchParams(window.location.search).get("experiments")});case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,u({accessPointId:t});case 10:e.t0=e.sent;case 11:if(!(r=e.t0)){e.next=19;break}if(0!==Object.keys(r.recommendation).length){e.next=15;break}return e.abrupt("return",null);case 15:n.meta={name:r.recommendation.name,accessPointId:t},n.experiment=r.recommendation.experiment,n.setting=r.userRecommendationSetting,r.recommendation.fieldsData&&(n.variants=JSON.parse(r.recommendation.fieldsData),n.variants=n.variants.map((function(e){return e.isSmart=r.recommendation.isSmart,e})));case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=n(18),g=n(3),h=n(10),E=n.n(h),C=n(4108),y=n.n(C),O=function(e){var t=e.imageUrl,n=e.videoUrl,a=e.imageAltText,o=e.className,c=Object(r.useRef)();return Object(r.useLayoutEffect)((function(){null!=c&&c.current&&(c.current.muted=!0)}),[]),t?i.a.createElement("div",{className:E()(y.a.mediaContainer,o,!n&&y.a.noVideo)},n&&i.a.createElement("video",{ref:c,"aria-hidden":"true",controls:!0,controlsList:"nodownload nofullscreen noremoteplayback",autoPlay:!0,loop:!0,disablePictureInPicture:!0,poster:t},i.a.createElement("source",{src:n,type:"video/mp4"})),i.a.createElement("img",{src:t,alt:a})):null},x=n(792),j=n(1707),k=n(4110),I=n.n(k),R={label:"Based on your data",toggletipText:"Your recommendation is based on campaign data from users similar to you, so you can get the smartest recommendation possible."},N=function(e){var t=e.isSmart,n=e.content,a=e.handleDismiss,o=e.handlePrimaryAction,s=e.onRender,m=n.title,l=n.htmlBody,d=n.ctaText,u=n.dismissText,b=void 0===u?"Dismiss":u,f=n.imageUrl,p=n.videoUrl,v=n.imageAltText,h=void 0===v?"":v,C=n.backgroundColor,y=f||p,k=I.a["brand-".concat(C)];return Object(r.useEffect)((function(){s()}),[]),i.a.createElement("div",{className:E()(I.a.bannerContainer,k)},i.a.createElement(x.a,{size:"standard"},i.a.createElement(c.Mb,{gap:8},i.a.createElement(c.Jb,{gap:6,className:I.a.stackLayout},i.a.createElement("div",null,t&&i.a.createElement(j.a,Object(g.a)({tier:2},R)),i.a.createElement(c.M,{level:2,appearance:"heading-1"},m)),i.a.createElement("div",{dangerouslySetInnerHTML:{__html:l},className:I.a.richText}),i.a.createElement(c.r,{alignItems:"center",gap:4,justifyContent:"flex-start"},i.a.createElement(c.k,{type:"primary",onClick:o},d),i.a.createElement(c.k,{type:"tertiary",onClick:function(){a()}},b))),y&&i.a.createElement("div",{className:I.a.mediaContainer},i.a.createElement(O,{className:I.a.media,imageUrl:f,imageAltText:h,videoUrl:p})))))},T=n(27),w=n(4112),D=n.n(w),P={label:"Based on your data",toggletipText:"Your recommendation is based on campaign data from users similar to you, so you can get the smartest recommendation possible."},S=function(e){var t=e.isSmart,n=e.content,a=e.customClass,o=e.handleDismiss,s=e.handlePrimaryAction,m=e.onRender,l=n.title,d=n.body,u=n.ctaText,b=n.imageUrl,f=n.imageAltText;return Object(r.useEffect)((function(){m()}),[]),i.a.createElement("div",{className:E()(a,D.a.portraitContainer)},i.a.createElement("div",{className:D.a.imageAndDismissContainer},i.a.createElement(c.O,{label:"Default dismiss Icon",icon:i.a.createElement(T.K,null),className:D.a.iconButton,onClick:function(){o()}}),i.a.createElement("div",{className:D.a.imageContainer},i.a.createElement("img",{src:b,alt:f}))),i.a.createElement("div",{className:D.a.contentContainer},i.a.createElement(c.Jb,null,t&&i.a.createElement(j.a,Object(g.a)({tier:2},P)),i.a.createElement(c.M,{level:2,appearance:"heading-2"},l),i.a.createElement(c.ac,null,d),i.a.createElement(c.k,{type:"primary",onClick:s},u))))},L=n(4114),M=n.n(L),U={label:"Based on your data",toggletipText:"Your recommendation is based on campaign data from users similar to you, so you can get the smartest recommendation possible."},A=function(e){var t=e.ctaText,n=e.body,a=e.handlePrimaryAction;return n.split(/(\[cta\])/).map((function(e){return"[cta]"===e?i.a.createElement(c.bc,{href:"#",key:e,className:M.a.cta,onClick:a},t):i.a.createElement("span",{key:e},e)}))},H=function(e){var t=e.isSmart,n=e.content,a=e.customClass,o=e.handleDismiss,s=e.onRender,m=e.handlePrimaryAction,l=n.title,d=n.body,u=n.ctaText,b=n.imageUrl,f=n.imageAltText,p=n.backgroundColor,v=M.a["brand-".concat(p)];return Object(r.useEffect)((function(){s()}),[]),i.a.createElement("div",{className:E()(a,M.a.recipeContainer,v)},i.a.createElement("div",{className:M.a.icons},t&&i.a.createElement(j.a,Object(g.a)({tier:2},U)),i.a.createElement("div",{className:M.a.dismissContainer},i.a.createElement(c.O,{label:"Default dismiss Icon",icon:i.a.createElement(T.K,null),onClick:function(){o()}}))),i.a.createElement("div",{className:M.a.contentContainer},i.a.createElement("div",{className:M.a.bodyContainer},i.a.createElement(c.Jb,null,i.a.createElement(c.M,{level:2,appearance:"heading-2"},l),i.a.createElement(c.ac,null,i.a.createElement(A,{handlePrimaryAction:m,body:d,ctaText:u})))),i.a.createElement("div",{className:M.a.imageContainer},i.a.createElement("img",{src:b,alt:f}))))},V=n(1783),_=n.n(V),B=function(e){var t=e.content,n=e.handleDismiss,a=e.handlePrimaryAction,o=e.onRender,s=t.title,m=t.body,l=t.ctaText,d=t.imageUrl,u=t.imageAltText,b=t.backgroundColor,f=_.a["brand-".concat(b)];return Object(r.useEffect)((function(){o()}),[]),i.a.createElement("div",{className:E()(_.a.bannerContainer,f)},i.a.createElement("img",{src:d,alt:u,className:_.a.image}),i.a.createElement("div",{className:_.a.textContainer},i.a.createElement(c.M,{level:2,appearance:"heading-2"},s),i.a.createElement(c.ac,null,m)),i.a.createElement("div",{className:_.a.buttonContainer},i.a.createElement(c.k,{type:"primary",onClick:a},l)),i.a.createElement(c.O,{label:"Default dismiss Icon",icon:i.a.createElement(T.K,null),onClick:function(){n()}}))},J=n(21),Y=n(68),F=n(23),q=n(28),z=n(35),K=n(37),Q=n(25),Z=n(67);function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(Q.a)(e);if(t){var r=Object(Q.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(K.a)(this,n)}}var W=function(e){Object(z.a)(n,e);var t=G(n);function n(e){var a;return Object(F.a)(this,n),(a=t.call(this,e)).state={hasError:!1,recommendationContent:e.recommendationContent},a}return Object(q.a)(n,[{key:"componentDidCatch",value:function(e,t){var n=this.state.recommendationContent;Z.a.notify("Recommendation failed to render",(function(a){a.addMetadata("RecommendationDetails",{recommendationContent:n,error:e,errorInfo:t})}))}},{key:"render",value:function(){return this.state.hasError?i.a.createElement("div",null):this.props.children}}],[{key:"getDerivedStateFromError",value:function(){return{hasError:!0}}}]),n}(r.Component),X={hero:N,portrait:S,compactBanner:H,compressedBanner:B},$=function(e){var t=e.accessPointId,n=e.customClass,a=e.data,r=e.variables,o=e.recommendationId,c=e.handleDismiss,s=e.onRender;a.content.ctaUrl=function(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/\[(.+?)\]/g,(function(t,n){return t&&e[n]?e[n]:t}))}(a.content.ctaUrl,r);var m=Object(J.n)(),l=X[a.recommendationStyle];return i.a.createElement(l,{recommendationId:o,customClass:n,content:a.content,handleDismiss:function(){c(a.recommendedProduct,a.recommendationStyle)},handlePrimaryAction:function(e){e.preventDefault(),function(e,t,n){var a={dimension53:n,dimension54:t,dimension56:"navigate",dimension91:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",dimension108:arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",dimension109:arguments.length>5&&void 0!==arguments[5]?arguments[5]:""};Object(v.a)("recommendation","recommendation cta click",e,a)}(o,a.content.ctaUrl,a.content.ctaText,t,a.recommendedProduct,a.recommendationStyle),c(a.recommendedProduct,a.recommendationStyle),a.content.ctaUrl.indexOf("https://")>-1?window.open(a.content.ctaUrl,"_blank"):m(a.content.ctaUrl)},onRender:function(){s(a.recommendedProduct,a.recommendationStyle)},isSmart:a.isSmart})},ee=function(e){var t=e.accessPointId,n=e.name,a=e.variants,r=e.children,c=e.onRender,s=e.handleDismiss,m=e.recommendationId;return n?i.a.createElement(o.a,{name:n},a.map((function(e,n){return i.a.createElement(o.b,{key:n,name:e.variant},i.a.createElement($,{accessPointId:t,data:e,recommendationId:m,onRender:c,handleDismiss:s}))}))):r};t.a=function(e){var t=e.accessPointId,n=e.children,o=e.customClass,s=void 0===o?"":o,m=e.variables,l=void 0===m?{}:m,u=Object(r.useState)(!1),g=Object(a.a)(u,2),h=g[0],E=g[1],C=Object(r.useState)(!0),y=Object(a.a)(C,2),O=y[0],x=y[1],j=Object(r.useState)(),k=Object(a.a)(j,2),I=k[0],R=k[1];Object(r.useEffect)((function(){x(!0),p(t).then((function(e){R(e)})).catch((function(e){})).finally((function(){x(!1)}))}),[t]);var N=function(e,n){var a,r;(a={settingId:I.setting.id,recommendationId:I.setting.recommendationId},Object(d.a)("/recs_engine.v1.RecsEngine/LogRecommendationDismiss",a,r)).then((function(a){E(a),function(e){var t={dimension53:"Dismiss",dimension56:"dismiss",dimension91:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",dimension108:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",dimension109:arguments.length>3&&void 0!==arguments[3]?arguments[3]:""};Object(v.a)("recommendation","recommendation dismiss click",e,t)}(I.setting.recommendationId,t,e,n)})).catch((function(e){}))},T=function(e,n){var a,r;(a={settingId:I.setting.id,recommendationId:I.setting.recommendationId},Object(d.a)("/recs_engine.v1.RecsEngine/LogRecommendationImpressions",a,r)).then((function(){!function(e){var t={dimension53:"View",dimension56:"view",dimension91:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",dimension108:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",dimension109:arguments.length>3&&void 0!==arguments[3]?arguments[3]:""};Object(v.a)("recommendation","recommendation view",e,t)}(I.setting.recommendationId,t,e,n)})).catch((function(e){}))},w=f(),D=Object(Y.b)();return i.a.createElement(W,{recommendationContent:I},i.a.createElement(c.kc,null,!h&&I&&i.a.createElement(ee,{accessPointId:t,name:I.experiment,variants:I.variants,onRender:T,handleDismiss:N,recommendationId:I.setting.recommendationId},i.a.createElement($,{accessPointId:t,customClass:s,data:I.variants[0],variables:l,recommendationId:I.setting.recommendationId,onRender:T,handleDismiss:N})),!O&&!I&&n,Object(b.c)("4851e211234b9598795dfaea87c6cd7a")&&w&&i.a.createElement(c.k,{type:"primary",onClick:function(){var e,t;e={settingId:w?"".concat(w).concat(D.id):I.setting.id,recommendationId:w||I.setting.recommendationId},Object(d.a)("/recs_engine.v1.RecsEngine/ResetRecommendation",e,t)}},"QE impression/dismissal reset")))}}}]);
//# sourceMappingURL=app-homepage~route-ads-finished-sent~route-audience~route-automations-finished-sent~route-automation~25206589.bf7c480ea9ef43de19fc.js.map